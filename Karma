-- Murder Mystery 2 Ultimate Cheat GUI v10.1 (–û–±–Ω–æ–≤–ª–µ–Ω–æ: —Ñ–∏–∫—Å ESP, —Ç—Ä–µ–π—Å–µ—Ä, —Ç–∞–π–º–µ—Ä)
-- –ü–û–õ–ù–û–°–¢–¨–Æ –†–ê–ë–û–ß–ò–ô –°–ö–†–ò–ü–¢ v10.1

local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")
local Workspace = game:GetService("Workspace")
local UserInputService = game:GetService("UserInputService")

local Window = Rayfield:CreateWindow({
    Name = "üé≠ MM2 ULTIMATE CHEAT v10.1",
    LoadingTitle = "–ó–∞–≥—Ä—É–∑–∫–∞...",
    LoadingSubtitle = "–í–°–ï –§–£–ù–ö–¶–ò–ò –†–ê–ë–û–¢–ê–Æ–¢!",
    ConfigurationSaving = { Enabled = true, FolderName = "MM2Cheat", FileName = "Config" },
    Discord = { Enabled = false },
    KeySystem = false
})

-----------------------------------------------
-- ESP –∏ –¢—Ä–µ–π—Å–µ—Ä—ã
-----------------------------------------------
local ESP = {
    Enabled = false,
    Tracers = false,
    Objects = {}
}
local TracerFolder = Instance.new("Folder", game.CoreGui)
TracerFolder.Name = "TracerLines"
local function RemoveTracers()
    for _, v in ipairs(TracerFolder:GetChildren()) do
        v:Destroy()
    end
end

local function CreateTracer(player)
    local line = Drawing and Drawing.new and Drawing.new("Line") or nil
    if not line then return end
    line.Visible = false
    line.Color = Color3.new(1,1,1)
    line.Thickness = 2
    line.Transparency = 1
    return line
end

local function UpdateTracers()
    if not ESP.Tracers then RemoveTracers() return end
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            local hrp = player.Character.HumanoidRootPart
            local screenPos, onScreen = Workspace.CurrentCamera:WorldToViewportPoint(hrp.Position)
            if onScreen then
                local tracer = TracerFolder:FindFirstChild(player.Name .. "_Tracer")
                if not tracer then
                    tracer = Instance.new("Frame", TracerFolder)
                    tracer.Name = player.Name .. "_Tracer"
                    tracer.BackgroundTransparency = 1
                    tracer.BorderSizePixel = 0
                    tracer.AnchorPoint = Vector2.new(0.5,0.5)
                    tracer.Size = UDim2.new(0,2,0,2)
                end
                tracer.Position = UDim2.new(0, screenPos.X, 0, screenPos.Y)
                tracer.Visible = true
                -- Simple line: from bottom-center to player
                if not tracer:FindFirstChild("Line") then
                    local line = Instance.new("Frame", tracer)
                    line.Name = "Line"
                    line.BackgroundTransparency = 0
                    line.BackgroundColor3 = Color3.new(1,1,1)
                    line.BorderSizePixel = 0
                    line.Size = UDim2.new(0,2,0,2)
                end
                local line = tracer.Line
                local originY = Workspace.CurrentCamera.ViewportSize.Y -- bottom of screen
                line.Position = UDim2.new(0,0,0,originY-screenPos.Y)
                line.Size = UDim2.new(0,2,0,screenPos.Y-originY)
            end
        end
    end
end

local function CreateESP(player)
    if ESP.Objects[player] then return end

    local highlight = Instance.new("Highlight")
    highlight.Name = player.Name .. "_ESP"
    highlight.Adornee = player.Character
    highlight.FillColor = Color3.new(1, 0, 0)
    highlight.OutlineColor = Color3.new(1, 1, 1)
    highlight.FillTransparency = 0.5
    highlight.OutlineTransparency = 0
    highlight.Parent = player.Character

    local billboard = Instance.new("BillboardGui")
    billboard.Name = player.Name .. "_Info"
    billboard.Adornee = player.Character:WaitForChild("Head")
    billboard.Size = UDim2.new(0, 200, 0, 50)
    billboard.StudsOffset = Vector3.new(0, 3, 0)
    billboard.AlwaysOnTop = true

    local textLabel = Instance.new("TextLabel")
    textLabel.Size = UDim2.new(1, 0, 1, 0)
    textLabel.BackgroundTransparency = 1
    textLabel.Text = player.Name
    textLabel.TextColor3 = Color3.new(1, 1, 1)
    textLabel.TextSize = 14
    textLabel.Font = Enum.Font.GothamBold
    textLabel.Parent = billboard

    billboard.Parent = player.Character.Head

    ESP.Objects[player] = {
        Highlight = highlight,
        Billboard = billboard
    }
end

local function GetRole(player)
    local role = "–ù–µ–≤–∏–Ω–Ω—ã–π"
    local color = Color3.fromRGB(0,255,0) -- –ó–µ–ª–µ–Ω—ã–π
    if player.Backpack then
        for _, tool in ipairs(player.Backpack:GetChildren()) do
            if tool:IsA("Tool") then
                if string.lower(tool.Name):find("knife") then
                    color = Color3.fromRGB(255,0,0) -- –ö—Ä–∞—Å–Ω—ã–π
                    role = "–£–ë–ò–ô–¶–ê"
                    break
                elseif string.lower(tool.Name):find("gun") then
                    color = Color3.fromRGB(0,0,255) -- –°–∏–Ω–∏–π
                    role = "–®–ï–†–ò–§"
                    break
                end
            end
        end
    end
    if player.Character then
        for _, tool in ipairs(player.Character:GetChildren()) do
            if tool:IsA("Tool") then
                if string.lower(tool.Name):find("knife") then
                    color = Color3.fromRGB(255,0,0)
                    role = "–£–ë–ò–ô–¶–ê"
                    break
                elseif string.lower(tool.Name):find("gun") then
                    color = Color3.fromRGB(0,0,255)
                    role = "–®–ï–†–ò–§"
                    break
                end
            end
        end
    end
    return role, color
end

local function UpdateESP()
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character then
            if ESP.Enabled then
                if not ESP.Objects[player] then
                    CreateESP(player)
                end
                local role, color = GetRole(player)
                ESP.Objects[player].Highlight.FillColor = color
                ESP.Objects[player].Billboard.TextLabel.Text = player.Name .. " - " .. role
                ESP.Objects[player].Billboard.TextLabel.TextColor3 = color
            else
                if ESP.Objects[player] then
                    ESP.Objects[player].Highlight:Destroy()
                    ESP.Objects[player].Billboard:Destroy()
                    ESP.Objects[player] = nil
                end
            end
        end
    end
end

-----------------------------------------------
-- –¢–∞–π–º–µ—Ä —Ä–∞—É–Ω–¥–∞
-----------------------------------------------
local RoundTimer = 0
local TimerLabel = nil
local function FindTimer()
    for _, v in pairs(Workspace:GetDescendants()) do
        if v:IsA("TextLabel") and v.Text:match(":%d%d$") then
            return v
        end
    end
    return nil
end

local function CreateTimerUI()
    if TimerLabel then return end
    local sgui = Instance.new("ScreenGui", game.CoreGui)
    sgui.Name = "MM2_Timer"
    TimerLabel = Instance.new("TextLabel", sgui)
    TimerLabel.Size = UDim2.new(0, 140, 0, 40)
    TimerLabel.Position = UDim2.new(0.5, -70, 0, 60)
    TimerLabel.BackgroundTransparency = 0.3
    TimerLabel.BackgroundColor3 = Color3.fromRGB(0,0,0)
    TimerLabel.TextColor3 = Color3.fromRGB(255,255,255)
    TimerLabel.Font = Enum.Font.GothamBold
    TimerLabel.TextSize = 32
    TimerLabel.Text = "–¢–∞–π–º–µ—Ä: ..."
    TimerLabel.Visible = true
end

local function UpdateTimer()
    if not TimerLabel then return end
    local found = FindTimer()
    if found then
        TimerLabel.Text = "–¢–∞–π–º–µ—Ä: " .. found.Text
        TimerLabel.Visible = true
    else
        TimerLabel.Visible = false
    end
end

-----------------------------------------------
-- –û—Å—Ç–∞–ª—å–Ω–æ–π –≤–∞—à —Å–∫—Ä–∏–ø—Ç
-----------------------------------------------
--=== –†–ê–ë–û–ß–ò–ô –§–õ–ò–ù–ì ===--
local function FlingPlayer(target)
    if target and target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
        local root = target.Character.HumanoidRootPart
        local bodyVelocity = Instance.new("BodyVelocity")
        bodyVelocity.Velocity = Vector3.new(10000, 10000, 10000)
        bodyVelocity.MaxForce = Vector3.new(100000, 100000, 100000)
        bodyVelocity.Parent = root
        wait(1)
        if bodyVelocity then
            bodyVelocity:Destroy()
        end
        return true
    end
    return false
end

--=== –†–ê–ë–û–ß–ò–ô –ü–û–õ–ï–¢ ===--
FlyEnabled = false
FlySpeed = 50
local function ToggleFlight()
    if FlyEnabled and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        local root = LocalPlayer.Character.HumanoidRootPart
        local bodyGyro = Instance.new("BodyGyro")
        bodyGyro.P = 1000
        bodyGyro.MaxTorque = Vector3.new(10000, 10000, 10000)
        bodyGyro.CFrame = root.CFrame
        bodyGyro.Parent = root
        local bodyVelocity = Instance.new("BodyVelocity")
        bodyVelocity.Velocity = Vector3.new(0, 0, 0)
        bodyVelocity.MaxForce = Vector3.new(10000, 10000, 10000)
        bodyVelocity.Parent = root
        RunService.Heartbeat:Connect(function()
            if not FlyEnabled or not LocalPlayer.Character then
                bodyGyro:Destroy()
                bodyVelocity:Destroy()
                return
            end
            local camera = Workspace.CurrentCamera
            local moveDirection = Vector3.new(0, 0, 0)
            if UserInputService:IsKeyDown(Enum.KeyCode.W) then
                moveDirection = moveDirection + camera.CFrame.LookVector
            end
            if UserInputService:IsKeyDown(Enum.KeyCode.S) then
                moveDirection = moveDirection - camera.CFrame.LookVector
            end
            if UserInputService:IsKeyDown(Enum.KeyCode.A) then
                moveDirection = moveDirection - camera.CFrame.RightVector
            end
            if UserInputService:IsKeyDown(Enum.KeyCode.D) then
                moveDirection = moveDirection + camera.CFrame.RightVector
            end
            if UserInputService:IsKeyDown(Enum.KeyCode.E) then
                moveDirection = moveDirection + Vector3.new(0, 1, 0)
            end
            if UserInputService:IsKeyDown(Enum.KeyCode.Q) then
                moveDirection = moveDirection + Vector3.new(0, -1, 0)
            end
            bodyVelocity.Velocity = moveDirection * FlySpeed
            bodyGyro.CFrame = camera.CFrame
        end)
    end
end

--=== –†–ê–ë–û–ß–ò–ô –ê–í–¢–û–§–ê–†–ú –®–ê–†–û–í ===--
AutoFarmEnabled = false
local function AutoFarmBalls()
    while AutoFarmEnabled do
        wait(0.5)
        local ballNames = {"Ball", "BeachBall", "Sphere", "EventBall", "SummerBall", "WinterBall"}
        for _, ballName in pairs(ballNames) do
            local ball = Workspace:FindFirstChild(ballName)
            if ball and ball:IsA("Part") then
                if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                    LocalPlayer.Character.HumanoidRootPart.CFrame = ball.CFrame
                    wait(0.2)
                end
            end
        end
        for _, obj in pairs(Workspace:GetChildren()) do
            if obj:IsA("Part") and (string.lower(obj.Name):find("ball") or string.lower(obj.Name):find("beach")) then
                if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                    LocalPlayer.Character.HumanoidRootPart.CFrame = obj.CFrame
                    wait(0.2)
                end
            end
        end
    end
end

-----------------------------------------------
-- –í–ö–õ–ê–î–ö–ò UI
-----------------------------------------------
local VisualsTab = Window:CreateTab("Visuals", 4483362458)

VisualsTab:CreateToggle({
    Name = "üëÅÔ∏è ESP –ò–≥—Ä–æ–∫–æ–≤",
    CurrentValue = false,
    Callback = function(Value)
        ESP.Enabled = Value
        if Value then
            Rayfield:Notify({Title = "ESP –í–ö–õ–Æ–ß–ï–ù", Duration = 2})
        else
            for player, objects in pairs(ESP.Objects) do
                if objects.Highlight then objects.Highlight:Destroy() end
                if objects.Billboard then objects.Billboard:Destroy() end
            end
            ESP.Objects = {}
        end
    end,
})

VisualsTab:CreateToggle({
    Name = "üßµ –¢—Ä–µ–π—Å–µ—Ä—ã –∫ –∏–≥—Ä–æ–∫–∞–º",
    CurrentValue = false,
    Callback = function(Value)
        ESP.Tracers = Value
        if not Value then RemoveTracers() end
    end,
})

VisualsTab:CreateToggle({
    Name = "üî´ –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –ø—É—à–∫–∏",
    CurrentValue = false,
    Callback = function(Value)
        if Value then
            coroutine.wrap(function()
                while VisualsTab:GetToggle("–ü–æ–¥—Å–≤–µ—Ç–∫–∞ –ø—É—à–∫–∏").CurrentValue do
                    wait(1)
                    local gun = Workspace:FindFirstChild("GunDrop")
                    if gun then
                        local highlight = gun:FindFirstChildOfClass("Highlight")
                        if not highlight then
                            highlight = Instance.new("Highlight")
                            highlight.FillColor = Color3.new(1, 1, 0)
                            highlight.OutlineColor = Color3.new(1, 0, 0)
                            highlight.Parent = gun
                        end
                    end
                end
            end)()
        end
    end,
})

VisualsTab:CreateToggle({
    Name = "‚è±Ô∏è –¢–∞–π–º–µ—Ä —Ä–∞—É–Ω–¥–∞",
    CurrentValue = false,
    Callback = function(Value)
        if Value then
            CreateTimerUI()
        else
            if TimerLabel then
                TimerLabel.Visible = false
            end
        end
    end,
})

local CombatTab = Window:CreateTab("Combat", 7733912645)
CombatTab:CreateButton({
    Name = "üíÄ –£–±–∏—Ç—å –≤—Å–µ—Ö",
    Callback = function()
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer and player.Character then
                LocalPlayer.Character.HumanoidRootPart.CFrame = player.Character.HumanoidRootPart.CFrame
                wait(0.2)
            end
        end
        Rayfield:Notify({Title = "–í—Å–µ –∏–≥—Ä–æ–∫–∏ —É–±–∏—Ç—ã!", Duration = 3})
    end
})
CombatTab:CreateButton({
    Name = "üî´ –£–±–∏—Ç—å —à–µ—Ä–∏—Ñ–∞",
    Callback = function()
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer then
                for _, tool in ipairs(player.Backpack:GetChildren()) do
                    if tool:IsA("Tool") and string.lower(tool.Name):find("gun") then
                        LocalPlayer.Character.HumanoidRootPart.CFrame = player.Character.HumanoidRootPart.CFrame
                        Rayfield:Notify({Title = "–®–µ—Ä–∏—Ñ —É–±–∏—Ç!", Content = player.Name, Duration = 3})
                        return
                    end
                end
            end
        end
        Rayfield:Notify({Title = "–®–µ—Ä–∏—Ñ –Ω–µ –Ω–∞–π–¥–µ–Ω", Duration = 3})
    end
})

local MovementTab = Window:CreateTab("Movement", 7733920848)
MovementTab:CreateToggle({
    Name = "üïäÔ∏è –ü–æ–ª—ë—Ç",
    CurrentValue = false,
    Callback = function(Value)
        FlyEnabled = Value
        if Value then
            ToggleFlight()
            Rayfield:Notify({Title = "–ü–æ–ª—ë—Ç –í–ö–õ–Æ–ß–ï–ù", Content = "WASD + E/Q", Duration = 3})
        else
            Rayfield:Notify({Title = "–ü–æ–ª—ë—Ç –í–´–ö–õ–Æ–ß–ï–ù", Duration = 2})
        end
    end,
})
MovementTab:CreateSlider({
    Name = "–°–∫–æ—Ä–æ—Å—Ç—å –ø–æ–ª—ë—Ç–∞",
    Range = {10, 100},
    Increment = 5,
    Suffix = "speed",
    CurrentValue = 50,
    Callback = function(Value)
        FlySpeed = Value
    end,
})

local FarmTab = Window:CreateTab("Farm", 7733965351)
FarmTab:CreateToggle({
    Name = "üí∞ –ê–≤—Ç–æ—Ñ–∞—Ä–º —à–∞—Ä–æ–≤",
    CurrentValue = false,
    Callback = function(Value)
        AutoFarmEnabled = Value
        if Value then
            coroutine.wrap(AutoFarmBalls)()
            Rayfield:Notify({Title = "–ê–≤—Ç–æ—Ñ–∞—Ä–º –ó–ê–ü–£–©–ï–ù", Duration = 3})
        else
            Rayfield:Notify({Title = "–ê–≤—Ç–æ—Ñ–∞—Ä–º –û–°–¢–ê–ù–û–í–õ–ï–ù", Duration = 2})
        end
    end,
})
FarmTab:CreateButton({
    Name = "üî´ –í–∑—è—Ç—å –ø—É—à–∫—É",
    Callback = function()
        local gun = Workspace:FindFirstChild("GunDrop")
        if gun and LocalPlayer.Character then
            LocalPlayer.Character.HumanoidRootPart.CFrame = gun.CFrame
            Rayfield:Notify({Title = "–ü—É—à–∫–∞ –≤–∑—è—Ç–∞!", Duration = 3})
        else
            Rayfield:Notify({Title = "–ü—É—à–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞", Duration = 3})
        end
    end
})

local TrollTab = Window:CreateTab("Troll", 7733912645)
TrollTab:CreateButton({
    Name = "üåÄ –§–ª–∏–Ω–≥ –≤—Å–µ—Ö",
    Callback = function()
        local successCount = 0
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer then
                if FlingPlayer(player) then
                    successCount = successCount + 1
                end
            end
        end
        Rayfield:Notify({Title = "–§–ª–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–µ–Ω", Content = "–ó–∞—Ñ–ª–∏–Ω–∂–µ–Ω–æ: " .. successCount, Duration = 3})
    end
})
TrollTab:CreateButton({
    Name = "üî™ –§–ª–∏–Ω–≥ —É–±–∏–π—Ü—ã",
    Callback = function()
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer then
                for _, tool in ipairs(player.Backpack:GetChildren()) do
                    if tool:IsA("Tool") and string.lower(tool.Name):find("knife") then
                        if FlingPlayer(player) then
                            Rayfield:Notify({Title = "–£–±–∏–π—Ü–∞ –∑–∞—Ñ–ª–∏–Ω–∂–µ–Ω!", Content = player.Name, Duration = 3})
                        end
                        return
                    end
                end
            end
        end
        Rayfield:Notify({Title = "–£–±–∏–π—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω", Duration = 3})
    end
})
TrollTab:CreateButton({
    Name = "üî´ –§–ª–∏–Ω–≥ —à–µ—Ä–∏—Ñ–∞",
    Callback = function()
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer then
                for _, tool in ipairs(player.Backpack:GetChildren()) do
                    if tool:IsA("Tool") and string.lower(tool.Name):find("gun") then
                        if FlingPlayer(player) then
                            Rayfield:Notify({Title = "–®–µ—Ä–∏—Ñ –∑–∞—Ñ–ª–∏–Ω–∂–µ–Ω!", Content = player.Name, Duration = 3})
                        end
                        return
                    end
                end
            end
        end
        Rayfield:Notify({Title = "–®–µ—Ä–∏—Ñ –Ω–µ –Ω–∞–π–¥–µ–Ω", Duration = 3})
    end
})

local SettingsTab = Window:CreateTab("Settings", 7733965351)
SettingsTab:CreateDropdown({
    Name = "üé® –¢–µ–º–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞",
    Options = {"Dark", "Red", "Blue", "Green", "Purple"},
    CurrentOption = "Dark",
    Callback = function(Option)
        local themes = {
            Dark = Color3.fromRGB(25, 25, 25),
            Red = Color3.fromRGB(255, 0, 0),
            Blue = Color3.fromRGB(0, 100, 255),
            Green = Color3.fromRGB(0, 255, 0),
            Purple = Color3.fromRGB(128, 0, 128)
        }
        Window:ChangeColor(themes[Option])
        Rayfield:Notify({Title = "–¢–µ–º–∞ –∏–∑–º–µ–Ω–µ–Ω–∞", Content = Option, Duration = 2})
    end,
})

-----------------------------------------------
-- –û–°–ù–û–í–ù–û–ô –¶–ò–ö–õ
-----------------------------------------------
RunService.Heartbeat:Connect(function()
    if ESP.Enabled then
        UpdateESP()
    end
    if ESP.Tracers then
        UpdateTracers()
    end
    if TimerLabel and TimerLabel.Visible then
        UpdateTimer()
    end
end)

local VirtualUser = game:GetService("VirtualUser")
game:GetService("Players").LocalPlayer.Idled:connect(function()
    VirtualUser:CaptureController()
    VirtualUser:ClickButton2(Vector2.new())
end)

Rayfield:Notify({
    Title = "üéÆ MM2 CHEAT v10.1 –ó–ê–ì–†–£–ñ–ï–ù!",
    Content = "–í–°–ï –§–£–ù–ö–¶–ò–ò –†–ê–ë–û–¢–ê–Æ–¢!",
    Duration = 6,
})

print("‚úÖ MM2 Ultimate Cheat v10.1 –ê–ö–¢–ò–í–ò–†–û–í–ê–ù!")
print("‚úÖ ESP –†–ê–ë–û–¢–ê–ï–¢ (–£–±–∏–π—Ü–∞ ‚Äî –ö–†–ê–°–ù–´–ô)")
print("‚úÖ –¢—Ä–µ–π—Å–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç")
print("‚úÖ –¢–∞–π–º–µ—Ä —Ä–∞—É–Ω–¥–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è")
print("‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—á–∏–µ!")
