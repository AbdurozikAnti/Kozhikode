-- Murder Mystery 2 Ultimate Cheat GUI v7.0
-- –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è —Å —Ä–∞–±–æ—á–∏–º ESP –∏ Fly

local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local Workspace = game:GetService("Workspace")

-- –°–æ–∑–¥–∞—ë–º –æ–∫–Ω–æ GUI
local Window = Rayfield:CreateWindow({
    Name = "üé≠ MM2 ULTIMATE CHEAT v7.0",
    LoadingTitle = "–ó–∞–≥—Ä—É–∑–∫–∞...",
    LoadingSubtitle = "ESP –∏ Fly –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã",
    ConfigurationSaving = { Enabled = true, FolderName = "MM2Cheat", FileName = "Config" },
    Discord = { Enabled = false },
    KeySystem = false
})

-- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã ESP
local ESPEnabled = false
local ESPObjects = {}

-- –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è ESP –¥–ª—è –∏–≥—Ä–æ–∫–∞
local function CreateESP(player)
    if ESPObjects[player] then return end
    if not player.Character then return end
    if not player.Character:FindFirstChild("HumanoidRootPart") then return end

    -- Highlight –¥–ª—è –ø–æ–¥—Å–≤–µ—Ç–∫–∏ –º–æ–¥–µ–ª–∏
    local highlight = Instance.new("Highlight")
    highlight.Name = "ESP_" .. player.Name
    highlight.Adornee = player.Character
    highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
    highlight.FillTransparency = 0.7
    highlight.OutlineTransparency = 0
    highlight.Parent = player.Character

    -- –¢—Ä–µ–π—Å–µ—Ä: –Ω–µ–±–æ–ª—å—à–æ–π Part —Å Beam
    local tracer = Instance.new("Part")
    tracer.Name = "Tracer_" .. player.Name
    tracer.Anchored = true
    tracer.CanCollide = false
    tracer.Material = Enum.Material.Neon
    tracer.Size = Vector3.new(0.1, 0.1, 0.1)
    tracer.Transparency = 1
    tracer.Parent = Workspace

    local attachment0 = Instance.new("Attachment", tracer)
    local attachment1 = Instance.new("Attachment", player.Character.HumanoidRootPart)

    local beam = Instance.new("Beam")
    beam.Attachment0 = attachment0
    beam.Attachment1 = attachment1
    beam.Width0 = 0.1
    beam.Width1 = 0.1
    beam.Color = ColorSequence.new(Color3.new(1, 1, 1))
    beam.Transparency = NumberSequence.new(0.4)
    beam.FaceCamera = true
    beam.Parent = tracer

    -- Billboard GUI –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–∞–¥ –≥–æ–ª–æ–≤–æ–π
    local billboard = Instance.new("BillboardGui")
    billboard.Name = "ESPInfo"
    billboard.Adornee = player.Character:WaitForChild("Head")
    billboard.Size = UDim2.new(0, 200, 0, 70)
    billboard.StudsOffset = Vector3.new(0, 3.5, 0)
    billboard.AlwaysOnTop = true
    billboard.Parent = player.Character.Head

    local nameLabel = Instance.new("TextLabel")
    nameLabel.Size = UDim2.new(1, 0, 0.4, 0)
    nameLabel.BackgroundTransparency = 1
    nameLabel.Text = player.Name
    nameLabel.TextColor3 = Color3.new(1, 1, 1)
    nameLabel.TextSize = 14
    nameLabel.Font = Enum.Font.GothamBold
    nameLabel.TextStrokeTransparency = 0
    nameLabel.Parent = billboard

    local roleLabel = Instance.new("TextLabel")
    roleLabel.Size = UDim2.new(1, 0, 0.3, 0)
    roleLabel.Position = UDim2.new(0, 0, 0.4, 0)
    roleLabel.BackgroundTransparency = 1
    roleLabel.TextColor3 = Color3.new(1, 1, 1)
    roleLabel.TextSize = 12
    roleLabel.Font = Enum.Font.Gotham
    roleLabel.TextStrokeTransparency = 0
    roleLabel.Text = "üë§ –ù–µ–≤–∏–Ω–Ω—ã–π"
    roleLabel.Parent = billboard

    local distanceLabel = Instance.new("TextLabel")
    distanceLabel.Size = UDim2.new(1, 0, 0.3, 0)
    distanceLabel.Position = UDim2.new(0, 0, 0.7, 0)
    distanceLabel.BackgroundTransparency = 1
    distanceLabel.TextColor3 = Color3.new(1, 1, 1)
    distanceLabel.TextSize = 12
    distanceLabel.Font = Enum.Font.Gotham
    distanceLabel.TextStrokeTransparency = 0
    distanceLabel.Text = "üìè 0 studs"
    distanceLabel.Parent = billboard

    -- –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ–±—ä–µ–∫—Ç—ã –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
    ESPObjects[player] = {
        Highlight = highlight,
        Tracer = tracer,
        Attachment0 = attachment0,
        Attachment1 = attachment1,
        Beam = beam,
        Billboard = billboard,
        NameLabel = nameLabel,
        RoleLabel = roleLabel,
        DistanceLabel = distanceLabel
    }
end

-- –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ ESP (—Ä–æ–ª—å, —Ü–≤–µ—Ç, –¥–∏—Å—Ç–∞–Ω—Ü–∏—è)
local function UpdatePlayerInfo(player)
    if not ESPObjects[player] then return end
    local espData = ESPObjects[player]
    if not player.Character or not player.Character:FindFirstChild("HumanoidRootPart") then return end

    local isMurderer = false
    local isSheriff = false
    local roleText = "üë§ –ù–µ–≤–∏–Ω–Ω—ã–π"
    local color = Color3.new(0, 1, 0) -- –ó–µ–ª–µ–Ω—ã–π

    -- –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–æ–ª–∏
    for _, container in ipairs({player.Backpack, player.Character}) do
        if container then
            for _, tool in ipairs(container:GetChildren()) do
                if tool:IsA("Tool") then
                    local toolName = string.lower(tool.Name)
                    if string.find(toolName, "knife") or string.find(toolName, "–Ω–æ–∂") then
                        isMurderer = true
                        roleText = "üî™ –£–ë–ò–ô–¶–ê"
                        color = Color3.new(1, 0, 0) -- –ö—Ä–∞—Å–Ω—ã–π
                        break
                    elseif string.find(toolName, "gun") or string.find(toolName, "–ø—É—à–∫–∞") then
                        isSheriff = true
                        roleText = "üî´ –®–ï–†–ò–§"
                        color = Color3.new(0, 0, 1) -- –°–∏–Ω–∏–π
                        break
                    end
                end
            end
        end
    end

    espData.Highlight.FillColor = color
    espData.Beam.Color = ColorSequence.new(color)
    espData.Tracer.BrickColor = BrickColor.new(color)

    espData.RoleLabel.Text = roleText
    espData.RoleLabel.TextColor3 = color

    -- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        local distance = (LocalPlayer.Character.HumanoidRootPart.Position - player.Character.HumanoidRootPart.Position).Magnitude
        espData.DistanceLabel.Text = "üìè " .. math.floor(distance) .. " studs"
    end
end

-- –£–¥–∞–ª–µ–Ω–∏–µ ESP
local function RemoveESP(player)
    if ESPObjects[player] then
        local espData = ESPObjects[player]
        for _, obj in pairs(espData) do
            if obj and obj.Parent then
                obj:Destroy()
            end
        end
        ESPObjects[player] = nil
    end
end

-- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ ESP –∫–∞–∂–¥–æ–≥–æ –∏–≥—Ä–æ–∫–∞
local function UpdateESP()
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer then
            local char = player.Character
            if ESPEnabled and char and char:FindFirstChild("Humanoid") and char.Humanoid.Health > 0 then
                if not ESPObjects[player] then
                    CreateESP(player)
                end
                UpdatePlayerInfo(player)

                local esp = ESPObjects[player]
                local localHRP = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
                local targetHRP = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
                if esp.Tracer and esp.Beam and localHRP and targetHRP then
                    esp.Tracer.Position = localHRP.Position + Vector3.new(0, -3, 0)
                    esp.Attachment0.Position = Vector3.new(0, 0, 0)
                    esp.Attachment1.WorldPosition = targetHRP.Position
                end
            else
                RemoveESP(player)
            end
        end
    end
end

-- –°–æ–∑–¥–∞–µ–º ESP –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
Players.PlayerAdded:Connect(function(player)
    player.CharacterAdded:Connect(function(character)
        wait(1)
        if ESPEnabled then
            CreateESP(player)
        end
    end)
end)

-- Fly —Å–∏—Å—Ç–µ–º–∞
local FlyEnabled = false
local FlyToggled = false
local FlySpeed = 50

local function SetupFly()
    local chr = LocalPlayer.Character
    local hum = chr and chr:FindFirstChildWhichIsA("Humanoid")
    if not chr or not hum then return end

    if FlyToggled then
        -- –û—Ç–∫–ª—é—á–∞–µ–º –ø–æ–ª—ë—Ç
        FlyToggled = false
        hum.PlatformStand = false

        -- –í–∫–ª—é—á–∞–µ–º –≤—Å–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ
        for _, state in pairs(Enum.HumanoidStateType:GetEnumItems()) do
            hum:SetStateEnabled(state, true)
        end

        -- –£–¥–∞–ª—è–µ–º BodyGyro –∏ BodyVelocity
        local torso = chr:FindFirstChild("Torso") or chr:FindFirstChild("UpperTorso")
        if torso then
            local bg = torso:FindFirstChild("BodyGyro")
            local bv = torso:FindFirstChild("BodyVelocity")
            if bg then bg:Destroy() end
            if bv then bv:Destroy() end
        end

        if chr:FindFirstChild("Animate") then
            chr.Animate.Disabled = false
        end
    else
        -- –í–∫–ª—é—á–∞–µ–º –ø–æ–ª—ë—Ç
        FlyToggled = true
        if chr:FindFirstChild("Animate") then
            chr.Animate.Disabled = true
        end

        -- –û—Ç–∫–ª—é—á–∞–µ–º –≤—Å–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
        for _, state in pairs(Enum.HumanoidStateType:GetEnumItems()) do
            hum:SetStateEnabled(state, false)
        end

        local torso = chr:FindFirstChild("Torso") or chr:FindFirstChild("UpperTorso")
        if torso then
            local bg = Instance.new("BodyGyro", torso)
            bg.P = 9e4
            bg.maxTorque = Vector3.new(9e9, 9e9, 9e9)
            bg.cframe = torso.CFrame

            local bv = Instance.new("BodyVelocity", torso)
            bv.velocity = Vector3.new(0, 0.1, 0)
            bv.maxForce = Vector3.new(9e9, 9e9, 9e9)

            hum.PlatformStand = true

            -- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—ë—Ç–æ–º
            spawn(function()
                while FlyToggled and chr and hum and hum.Health > 0 do
                    local moveDir = Vector3.new(0, 0, 0)
                    local cam = Workspace.CurrentCamera

                    if UserInputService:IsKeyDown(Enum.KeyCode.W) then
                        moveDir = moveDir + cam.CFrame.LookVector
                    end
                    if UserInputService:IsKeyDown(Enum.KeyCode.S) then
                        moveDir = moveDir - cam.CFrame.LookVector
                    end
                    if UserInputService:IsKeyDown(Enum.KeyCode.A) then
                        moveDir = moveDir - cam.CFrame.RightVector
                    end
                    if UserInputService:IsKeyDown(Enum.KeyCode.D) then
                        moveDir = moveDir + cam.CFrame.RightVector
                    end
                    if UserInputService:IsKeyDown(Enum.KeyCode.E) then
                        moveDir = moveDir + Vector3.new(0, 1, 0)
                    end
                    if UserInputService:IsKeyDown(Enum.KeyCode.Q) then
                        moveDir = moveDir + Vector3.new(0, -1, 0)
                    end

                    bv.velocity = (moveDir.Unit ~= moveDir and moveDir or Vector3.new()) * FlySpeed
                    bg.cframe = cam.CFrame
                    wait()
                end
            end)
        end
    end
end

-- –û—Å–Ω–æ–≤–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞
local MainTab = Window:CreateTab("–ì–ª–∞–≤–Ω–∞—è", 4483362458)

-- –°–µ–∫—Ü–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–∞—É–Ω–¥–µ
local InfoSection = MainTab:CreateSection("üìä –ò–ù–§–û–†–ú–ê–¶–ò–Ø –û –†–ê–£–ù–î–ï")
local MurdererLabel = MainTab:CreateLabel("–£–±–∏–π—Ü–∞: –ù–µ –Ω–∞–π–¥–µ–Ω")
local SheriffLabel = MainTab:CreateLabel("–®–µ—Ä–∏—Ñ: –ù–µ –Ω–∞–π–¥–µ–Ω")

-- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–æ–ª—è—Ö
coroutine.wrap(function()
    while wait(2) do
        local murderer, sheriff = "–ù–µ –Ω–∞–π–¥–µ–Ω", "–ù–µ –Ω–∞–π–¥–µ–Ω"
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer and player.Character then
                for _, container in ipairs({player.Backpack, player.Character}) do
                    if container then
                        for _, tool in ipairs(container:GetChildren()) do
                            if tool:IsA("Tool") then
                                local toolName = string.lower(tool.Name)
                                if string.find(toolName, "knife") or string.find(toolName, "–Ω–æ–∂") then
                                    murderer = player.Name
                                elseif string.find(toolName, "gun") or string.find(toolName, "–ø—É—à–∫–∞") then
                                    sheriff = player.Name
                                end
                            end
                        end
                    end
                end
            end
        end
        MurdererLabel:Set("–£–±–∏–π—Ü–∞: " .. murderer)
        SheriffLabel:Set("–®–µ—Ä–∏—Ñ: " .. sheriff)
    end
end)()

-- –°–µ–∫—Ü–∏—è ESP
local VisualsSection = MainTab:CreateSection("üëÅÔ∏è –£–õ–£–ß–®–ï–ù–ù–´–ô ESP")

local ESPToggle = MainTab:CreateToggle({
    Name = "ESP —Å —Ç—Ä–µ–π—Å–µ—Ä–∞–º–∏ –∏ –¥–∏—Å—Ç–∞–Ω—Ü–∏–µ–π",
    CurrentValue = false,
    Flag = "ESPToggle",
    Callback = function(Value)
        ESPEnabled = Value
        if not Value then
            for _, player in pairs(Players:GetPlayers()) do
                RemoveESP(player)
            end
        end
        Rayfield:Notify({
            Title = "ESP " .. (Value and "–í–ö–õ–Æ–ß–ï–ù" or "–í–´–ö–õ–Æ–ß–ï–ù"),
            Content = "ESP —Å —Ç—Ä–µ–π—Å–µ—Ä–∞–º–∏ " .. (Value and "–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω" or "–æ—Ç–∫–ª—é—á—ë–Ω"),
            Duration = 3,
        })
    end,
})

-- –°–µ–∫—Ü–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—ë—Ç–æ–º
local MovementSection = MainTab:CreateSection("üöÄ –°–ò–°–¢–ï–ú–ê –ü–û–õ–ï–¢–ê")

local FlyToggle = MainTab:CreateToggle({
    Name = "üïäÔ∏è TOGGLE FLY (–í–∫–ª/–í—ã–∫–ª –ø–æ–ª–µ—Ç)",
    CurrentValue = false,
    Callback = function(Value)
        FlyEnabled = Value
        if Value then
            SetupFly()
            Rayfield:Notify({
                Title = "–ü–û–õ–ï–¢ –ê–ö–¢–ò–í–ò–†–û–í–ê–ù",
                Content = "WASD - –¥–≤–∏–∂–µ–Ω–∏–µ, E/Q - –≤—ã—Å–æ—Ç–∞",
                Duration = 3,
            })
        else
            if FlyToggled then
                SetupFly()
            end
            Rayfield:Notify({
                Title = "–ü–û–õ–ï–¢ –û–¢–ö–õ–Æ–ß–Å–ù",
                Duration = 3,
            })
        end
    end
})

local FlySpeedSlider = MainTab:CreateSlider({
    Name = "–°–∫–æ—Ä–æ—Å—Ç—å –ø–æ–ª–µ—Ç–∞",
    Range = {0, 100},
    Increment = 5,
    Suffix = "speed",
    CurrentValue = FlySpeed,
    Callback = function(Value)
        FlySpeed = Value
    end
})

-- –ö–Ω–æ–ø–∫–∏ –ø–æ–ª–µ–∑–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
local UtilitySection = MainTab:CreateSection("üîß –£–¢–ò–õ–ò–¢–´")

MainTab:CreateButton({
    Name = "üî´ GRAB GUN (–í–∑—è—Ç—å –ø—É—à–∫—É)",
    Callback = function()
        local gunDrop = Workspace:FindFirstChild("GunDrop")
        if gunDrop and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
            LocalPlayer.Character.HumanoidRootPart.CFrame = gunDrop.CFrame
            Rayfield:Notify({
                Title = "üî´ –ü—É—à–∫–∞ –ø–æ–¥–æ–±—Ä–∞–Ω–∞!",
                Duration = 3,
            })
        else
            Rayfield:Notify({
                Title = "‚ùå –ü—É—à–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞",
                Duration = 3,
            })
        end
    end
})

MainTab:CreateButton({
    Name = "üéØ SHOOT MURDERER (–í—ã—Å—Ç—Ä–µ–ª –≤ —É–±–∏–π—Ü—É)",
    Callback = function()
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer then
                for _, container in ipairs({player.Backpack, player.Character}) do
                    if container then
                        for _, tool in ipairs(container:GetChildren()) do
                            if tool:IsA("Tool") and (string.lower(tool.Name):find("knife") or string.lower(tool.Name):find("–Ω–æ–∂")) then
                                if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                                    LocalPlayer.Character.HumanoidRootPart.CFrame = player.Character.HumanoidRootPart.CFrame
                                    Rayfield:Notify({
                                        Title = "üî´ –í—ã—Å—Ç—Ä–µ–ª –≤ —É–±–∏–π—Ü—É!",
                                        Content = "–¶–µ–ª—å: " .. player.Name,
                                        Duration = 3,
                                    })
                                    return
                                end
                            end
                        end
                    end
                end
            end
        end
        Rayfield:Notify({
            Title = "‚ùå –£–±–∏–π—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω",
            Duration = 3,
        })
    end
})

-- –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è ESP
RunService.Heartbeat:Connect(function()
    if ESPEnabled then
        UpdateESP()
    end
end)

-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–∞–≥—Ä—É–∑–∫–µ
Rayfield:Notify({
    Title = "üéÆ MM2 CHEAT v7.0 –ó–ê–ì–†–£–ñ–ï–ù!",
    Content = "ESP –∏ Fly –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã",
    Duration = 6,
})

print("‚úÖ MM2 Ultimate Cheat v7.0 –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!")
print("‚úÖ ESP —Å—Ç–∞–±–∏–ª–µ–Ω –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è, —Ä–æ–ª–∏ –ø–æ–¥–∫—Ä–∞—à–µ–Ω—ã")
print("‚úÖ –ü–æ–ª—ë—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ 100%")
