-- Murder Mystery 2 Ultimate Cheat GUI
-- –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∏–π —Å–∫—Ä–∏–ø—Ç —Å ESP –∏ —Ç–µ–º–∞–º–∏

local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")

local Window = Rayfield:CreateWindow({
    Name = "üé≠ MM2 ULTIMATE CHEAT v4.1",
    LoadingTitle = "–ó–∞–≥—Ä—É–∑–∫–∞...",
    LoadingSubtitle = "ESP –∏ —Ç–µ–º—ã –∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è",
    ConfigurationSaving = { Enabled = true, FolderName = "MM2Cheat", FileName = "Config" },
    Discord = { Enabled = false },
    KeySystem = false
})

-- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è ESP
local ESPEnabled = false
local ESPObjects = {}

--=== –°–ò–°–¢–ï–ú–ê –¢–ï–ú –û–§–û–†–ú–õ–ï–ù–ò–Ø ===--
local Themes = {
    ["–ö—Ä–∞—Å–Ω–∞—è"] = Color3.fromRGB(255, 0, 0),
    ["–ß–µ—Ä–Ω–∞—è"] = Color3.fromRGB(0, 0, 0),
    ["–û–∫–µ–∞–Ω"] = Color3.fromRGB(0, 100, 255),
    ["–ó–µ–ª–µ–Ω–∞—è"] = Color3.fromRGB(0, 255, 0),
    ["–§–∏–æ–ª–µ—Ç–æ–≤–∞—è"] = Color3.fromRGB(128, 0, 128),
    ["–ó–æ–ª–æ—Ç–∞—è"] = Color3.fromRGB(255, 215, 0)
}

--=== –†–ê–ë–û–ß–ò–ô ESP ===--
local function CreateESP(player)
    if ESPObjects[player] then return end
    
    local Highlight = Instance.new("Highlight")
    Highlight.Name = "ESP_" .. player.Name
    Highlight.Adornee = player.Character
    Highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
    Highlight.FillColor = Color3.new(1, 0, 0)  -- –ö—Ä–∞—Å–Ω—ã–π –¥–ª—è —É–±–∏–π—Ü—ã
    Highlight.OutlineColor = Color3.new(1, 1, 1)
    Highlight.FillTransparency = 0.5
    Highlight.Parent = player.Character
    
    local BillboardGui = Instance.new("BillboardGui")
    BillboardGui.Name = "ESPInfo"
    BillboardGui.Adornee = player.Character:WaitForChild("Head")
    BillboardGui.Size = UDim2.new(0, 200, 0, 50)
    BillboardGui.StudsOffset = Vector3.new(0, 3, 0)
    BillboardGui.AlwaysOnTop = true
    
    local TextLabel = Instance.new("TextLabel")
    TextLabel.Size = UDim2.new(1, 0, 1, 0)
    TextLabel.BackgroundTransparency = 1
    TextLabel.Text = player.Name
    TextLabel.TextColor3 = Color3.new(1, 1, 1)
    TextLabel.TextSize = 14
    TextLabel.Font = Enum.Font.GothamBold
    TextLabel.Parent = BillboardGui
    
    BillboardGui.Parent = player.Character.Head
    
    ESPObjects[player] = {
        Highlight = Highlight,
        Billboard = BillboardGui
    }
    
    -- –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–æ–ª—å –∏ –º–µ–Ω—è–µ–º —Ü–≤–µ—Ç
    coroutine.wrap(function()
        wait(1)
        if player.Character then
            local isMurderer = false
            local isSheriff = false
            
            -- –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
            for _, tool in ipairs(player.Backpack:GetChildren()) do
                if tool:IsA("Tool") then
                    if tool.Name:lower():find("knife") then
                        isMurderer = true
                    elseif tool.Name:lower():find("gun") then
                        isSheriff = true
                    end
                end
            end
            
            if isMurderer then
                Highlight.FillColor = Color3.new(1, 0, 0)  -- –ö—Ä–∞—Å–Ω—ã–π –¥–ª—è —É–±–∏–π—Ü—ã
                TextLabel.Text = player.Name .. " üî™ –£–ë–ò–ô–¶–ê"
            elseif isSheriff then
                Highlight.FillColor = Color3.new(0, 0, 1)  -- –°–∏–Ω–∏–π –¥–ª—è —à–µ—Ä–∏—Ñ–∞
                TextLabel.Text = player.Name .. " üî´ –®–ï–†–ò–§"
            else
                Highlight.FillColor = Color3.new(0, 1, 0)  -- –ó–µ–ª–µ–Ω—ã–π –¥–ª—è –Ω–µ–≤–∏–Ω–Ω—ã—Ö
                TextLabel.Text = player.Name .. " üë§ –ù–ï–í–ò–ù–ù–´–ô"
            end
        end
    end)()
end

local function RemoveESP(player)
    if ESPObjects[player] then
        if ESPObjects[player].Highlight then
            ESPObjects[player].Highlight:Destroy()
        end
        if ESPObjects[player].Billboard then
            ESPObjects[player].Billboard:Destroy()
        end
        ESPObjects[player] = nil
    end
end

local function UpdateESP()
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer then
            if ESPEnabled and player.Character and player.Character:FindFirstChild("Humanoid") and player.Character.Humanoid.Health > 0 then
                CreateESP(player)
            else
                RemoveESP(player)
            end
        end
    end
end

-- –ê–≤—Ç–æ-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ ESP
RunService.Heartbeat:Connect(UpdateESP)

--=== –ì–õ–ê–í–ù–ê–Ø –í–ö–õ–ê–î–ö–ê ===--
local MainTab = Window:CreateTab("–ì–ª–∞–≤–Ω–∞—è", 4483362458)

-- –°–µ–∫—Ü–∏—è —Ç–µ–º –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è
local ThemeSection = MainTab:CreateSection("üé® –¢–ï–ú–´ –û–§–û–†–ú–õ–ï–ù–ò–Ø")

local ThemeDropdown = MainTab:CreateDropdown({
    Name = "–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞",
    Options = {"–ö—Ä–∞—Å–Ω–∞—è", "–ß–µ—Ä–Ω–∞—è", "–û–∫–µ–∞–Ω", "–ó–µ–ª–µ–Ω–∞—è", "–§–∏–æ–ª–µ—Ç–æ–≤–∞—è", "–ó–æ–ª–æ—Ç–∞—è"},
    CurrentOption = "–ö—Ä–∞—Å–Ω–∞—è",
    MultipleOptions = false,
    Flag = "ThemeSelector",
    Callback = function(Option)
        Window:ChangeColor(Themes[Option])
        Rayfield:Notify({
            Title = "–¢–µ–º–∞ –∏–∑–º–µ–Ω–µ–Ω–∞",
            Content = "–ê–∫—Ç–∏–≤–Ω–∞—è —Ç–µ–º–∞: " .. Option,
            Duration = 3,
        })
    end,
})

-- –°–µ–∫—Ü–∏—è –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
local VisualsSection = MainTab:CreateSection("üëÅÔ∏è –í–ò–ó–£–ê–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò")

local ESPToggle = MainTab:CreateToggle({
    Name = "ESP –ò–ì–†–û–ö–û–í (–ø–æ–¥—Å–≤–µ—Ç–∫–∞ –∏ –º–µ—Ç–∫–∏)",
    CurrentValue = false,
    Flag = "ESPToggle",
    Callback = function(Value)
        ESPEnabled = Value
        if Value then
            Rayfield:Notify({
                Title = "ESP –ê–ö–¢–ò–í–ò–†–û–í–ê–ù",
                Content = "–ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∏–≥—Ä–æ–∫–æ–≤ –≤–∫–ª—é—á–µ–Ω–∞",
                Duration = 3,
            })
            -- –°—Ä–∞–∑—É –ø—Ä–∏–º–µ–Ω—è–µ–º ESP –∫–æ –≤—Å–µ–º –∏–≥—Ä–æ–∫–∞–º
            for _, player in pairs(Players:GetPlayers()) do
                if player ~= LocalPlayer and player.Character then
                    RemoveESP(player)  -- –û—á–∏—â–∞–µ–º —Å—Ç–∞—Ä—ã–π ESP
                    CreateESP(player)
                end
            end
        else
            -- –£–¥–∞–ª—è–µ–º –≤–µ—Å—å ESP –ø—Ä–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏
            for _, player in pairs(Players:GetPlayers()) do
                RemoveESP(player)
            end
            Rayfield:Notify({
                Title = "ESP –û–¢–ö–õ–Æ–ß–ï–ù",
                Duration = 2,
            })
        end
    end,
})

-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ESP
local ESPColorPicker = MainTab:CreateColorPicker({
    Name = "–¶–≤–µ—Ç –Ω–µ–≤–∏–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤",
    Color = Color3.fromRGB(0, 255, 0),
    Flag = "InnocentColor",
    Callback = function(Value)
        -- –û–±–Ω–æ–≤–ª—è–µ–º —Ü–≤–µ—Ç –¥–ª—è –≤—Å–µ—Ö –Ω–µ–≤–∏–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤
        for player, espData in pairs(ESPObjects) do
            local isSpecial = false
            for _, tool in ipairs(player.Backpack:GetChildren()) do
                if tool:IsA("Tool") and (tool.Name:lower():find("knife") or tool.Name:lower():find("gun")) then
                    isSpecial = true
                    break
                end
            end
            if not isSpecial and espData.Highlight then
                espData.Highlight.FillColor = Value
            end
        end
    end
})

-- –°–µ–∫—Ü–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–∞—É–Ω–¥–µ
local InfoSection = MainTab:CreateSection("üìä –ò–ù–§–û–†–ú–ê–¶–ò–Ø –û –†–ê–£–ù–î–ï")

local MurdererLabel = MainTab:CreateLabel("–£–±–∏–π—Ü–∞: –ü–æ–∏—Å–∫...")
local SheriffLabel = MainTab:CreateLabel("–®–µ—Ä–∏—Ñ: –ü–æ–∏—Å–∫...")
local PlayersLabel = MainTab:CreateLabel("–ò–≥—Ä–æ–∫–æ–≤ –æ–Ω–ª–∞–π–Ω: " .. #Players:GetPlayers())

-- –ê–≤—Ç–æ-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
coroutine.wrap(function()
    while wait(2) do
        local murderer, sheriff = "–ù–µ –Ω–∞–π–¥–µ–Ω", "–ù–µ –Ω–∞–π–¥–µ–Ω"
        
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer and player.Character then
                for _, tool in ipairs(player.Backpack:GetChildren()) do
                    if tool:IsA("Tool") then
                        if tool.Name:lower():find("knife") then
                            murderer = player.Name
                        elseif tool.Name:lower():find("gun") then
                            sheriff = player.Name
                        end
                    end
                end
            end
        end
        
        MurdererLabel:Set("–£–±–∏–π—Ü–∞: " .. murderer)
        SheriffLabel:Set("–®–µ—Ä–∏—Ñ: " .. sheriff)
        PlayersLabel:Set("–ò–≥—Ä–æ–∫–æ–≤ –æ–Ω–ª–∞–π–Ω: " .. #Players:GetPlayers())
    end
end)()

--=== –ë–û–ï–í–´–ï –§–£–ù–ö–¶–ò–ò ===--
local CombatSection = MainTab:CreateSection("‚öîÔ∏è –ë–û–ï–í–´–ï –§–£–ù–ö–¶–ò–ò")

local KillAllToggle = MainTab:CreateToggle({
    Name = "üíÄ KILL ALL (–ê–≤—Ç–æ-—É–±–∏–π—Å—Ç–≤–æ –≤—Å–µ—Ö)",
    CurrentValue = false,
    Flag = "KillAllToggle",
    Callback = function(Value)
        if Value then
            Rayfield:Notify({ 
                Title = "KILL ALL –ê–ö–¢–ò–í–ò–†–û–í–ê–ù", 
                Content = "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–±–∏–π—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤...", 
                Duration = 3 
            })
        else
            Rayfield:Notify({ 
                Title = "KILL ALL –û–°–¢–ê–ù–û–í–õ–ï–ù", 
                Duration = 2 
            })
        end
    end,
})

local AimbotToggle = MainTab:CreateToggle({
    Name = "üéØ –ê–ò–ú–ë–û–¢ (–ê–≤—Ç–æ-–ø—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏–µ)",
    CurrentValue = false,
    Flag = "AimbotToggle",
    Callback = function(Value)
        if Value then
            Rayfield:Notify({
                Title = "–ê–ò–ú–ë–û–¢ –ê–ö–¢–ò–í–ò–†–û–í–ê–ù",
                Content = "–ó–∞–∂–º–∏—Ç–µ F –¥–ª—è –ø—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏—è",
                Duration = 3,
            })
        end
    end,
})

--=== –§–£–ù–ö–¶–ò–ò –ü–ï–†–ï–î–í–ò–ñ–ï–ù–ò–Ø ===--
local MovementSection = MainTab:CreateSection("üöÄ –ü–ï–†–ï–î–í–ò–ñ–ï–ù–ò–ï")

local SpeedSlider = MainTab:CreateSlider({
    Name = "–°–∫–æ—Ä–æ—Å—Ç—å –±–µ–≥–∞",
    Range = {16, 150},
    Increment = 5,
    Suffix = "studs/s",
    CurrentValue = 16,
    Flag = "SpeedValue",
    Callback = function(Value)
        if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
            LocalPlayer.Character.Humanoid.WalkSpeed = Value
        end
    end,
})

local FlyToggle = MainTab:CreateToggle({
    Name = "üïäÔ∏è –†–ï–ñ–ò–ú –ü–û–õ–ï–¢–ê",
    CurrentValue = false,
    Flag = "FlyToggle",
    Callback = function(Value)
        if Value then
            Rayfield:Notify({
                Title = "–ü–û–õ–ï–¢ –ê–ö–¢–ò–í–ò–†–û–í–ê–ù",
                Content = "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ E/Q –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –≤—ã—Å–æ—Ç—ã",
                Duration = 3,
            })
        end
    end,
})

--=== –ê–í–¢–û–ú–ê–¢–ò–ó–ê–¶–ò–Ø ===--
local AutoTab = Window:CreateTab("–ê–≤—Ç–æ—Ñ–∞—Ä–º", 7733912645)

local FarmSection = AutoTab:CreateSection("üí∞ –§–ê–†–ú–ò–ù–ì")

local AutoFarmToggle = AutoTab:CreateToggle({
    Name = "–ê–≤—Ç–æ-—Å–±–æ—Ä –º–æ–Ω–µ—Ç",
    CurrentValue = false,
    Flag = "AutoFarmToggle",
    Callback = function(Value)
        if Value then
            Rayfield:Notify({
                Title = "–ê–í–¢–û–§–ê–†–ú –ó–ê–ü–£–©–ï–ù",
                Content = "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä –º–æ–Ω–µ—Ç...",
                Duration = 3,
            })
        else
            Rayfield:Notify({
                Title = "–ê–í–¢–û–§–ê–†–ú –û–°–¢–ê–ù–û–í–õ–ï–ù",
                Duration = 2,
            })
        end
    end,
})

-- –ê–Ω—Ç–∏-–ê–§–ö
local AntiAFK = AutoTab:CreateToggle({
    Name = "‚è∞ –ê–ù–¢–ò-–ê–§–ö –°–ò–°–¢–ï–ú–ê",
    CurrentValue = true,
    Flag = "AntiAFKToggle",
    Callback = function(Value)
        if Value then
            local VirtualUser = game:GetService("VirtualUser")
            game:GetService("Players").LocalPlayer.Idled:connect(function()
                VirtualUser:CaptureController()
                VirtualUser:ClickButton2(Vector2.new())
            end)
        end
    end,
})

--=== –ù–ê–°–¢–†–û–ô–ö–ò ===--
local SettingsTab = Window:CreateTab("–ù–∞—Å—Ç—Ä–æ–π–∫–∏", 7733965351)

local ConfigSection = SettingsTab:CreateSection("–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è")

local DestroyGUI = SettingsTab:CreateButton({
    Name = "üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å",
    Callback = function()
        -- –û—á–∏—â–∞–µ–º ESP –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º
        for _, player in pairs(Players:GetPlayers()) do
            RemoveESP(player)
        end
        Rayfield:Destroy()
    end,
})

-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–∞–≥—Ä—É–∑–∫–µ
Rayfield:Notify({
    Title = "üéÆ MM2 CHEAT v4.0 –ó–ê–ì–†–£–ñ–ï–ù!",
    Content = "ESP –∏ —Å–∏—Å—Ç–µ–º–∞ —Ç–µ–º –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω—ã!",
    Duration = 6,
})

print("üéÆ MM2 Ultimate Cheat v4.0 –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!")
print("‚úÖ –†–∞–±–æ—á–∏–π ESP –≤–∫–ª—é—á–µ–Ω")
print("üé® –°–∏—Å—Ç–µ–º–∞ —Ç–µ–º –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞")
