-- Murder Mystery 2 Ultimate Cheat GUI
-- –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∏–π —Å–∫—Ä–∏–ø—Ç v5.0 —Å ESP –∏ –≤—Å–µ–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏

local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")
local Lighting = game:GetService("Lighting")
local TweenService = game:GetService("TweenService")

local Window = Rayfield:CreateWindow({
    Name = "üé≠ MM2 ULTIMATE CHEAT v5.0",
    LoadingTitle = "–ó–∞–≥—Ä—É–∑–∫–∞...",
    LoadingSubtitle = "–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è",
    ConfigurationSaving = { Enabled = true, FolderName = "MM2Cheat", FileName = "Config" },
    Discord = { Enabled = false },
    KeySystem = false
})

-- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π
local ESPEnabled = false
local ESPObjects = {}
local FlyEnabled = false
local FlySpeed = 50
local AutoFarmEnabled = false
local KillAllEnabled = false
local KillSheriffEnabled = false

--=== –£–õ–£–ß–®–ï–ù–ù–´–ô ESP –° –¢–†–ï–ô–°–ï–†–ê–ú–ò ===--
local function CreateESP(player)
    if ESPObjects[player] then return end
    
    if not player.Character then return end
    if not player.Character:FindFirstChild("Humanoid") then return end
    if not player.Character:FindFirstChild("HumanoidRootPart") then return end
    
    local highlight = Instance.new("Highlight")
    highlight.Name = "ESP_" .. player.Name
    highlight.Adornee = player.Character
    highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
    highlight.FillTransparency = 0.7
    highlight.OutlineTransparency = 0
    
    -- –¢—Ä–µ–π—Å–µ—Ä (–ª–∏–Ω–∏—è –∫ –∏–≥—Ä–æ–∫—É)
    local tracer = Instance.new("Part")
    tracer.Name = "Tracer_" .. player.Name
    tracer.Anchored = true
    tracer.CanCollide = false
    tracer.Material = Enum.Material.Neon
    tracer.Size = Vector3.new(0.1, 0.1, 0.1)
    tracer.Parent = workspace
    
    local beam = Instance.new("Beam")
    beam.Attachment0 = Instance.new("Attachment")
    beam.Attachment0.Parent = tracer
    beam.Attachment1 = Instance.new("Attachment")
    beam.Attachment1.Parent = player.Character.HumanoidRootPart
    beam.Color = ColorSequence.new(Color3.new(1, 0, 0))
    beam.Width0 = 0.1
    beam.Width1 = 0.1
    beam.Parent = tracer
    
    -- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –¥–æ—Å–∫–∞
    local billboard = Instance.new("BillboardGui")
    billboard.Name = "ESPInfo"
    billboard.Adornee = player.Character:WaitForChild("Head")
    billboard.Size = UDim2.new(0, 200, 0, 80)
    billboard.StudsOffset = Vector3.new(0, 3.5, 0)
    billboard.AlwaysOnTop = true
    
    local nameLabel = Instance.new("TextLabel")
    nameLabel.Size = UDim2.new(1, 0, 0.5, 0)
    nameLabel.Position = UDim2.new(0, 0, 0, 0)
    nameLabel.BackgroundTransparency = 1
    nameLabel.Text = player.Name
    nameLabel.TextColor3 = Color3.new(1, 1, 1)
    nameLabel.TextSize = 14
    nameLabel.Font = Enum.Font.GothamBold
    nameLabel.TextStrokeTransparency = 0
    nameLabel.Parent = billboard
    
    local distanceLabel = Instance.new("TextLabel")
    distanceLabel.Size = UDim2.new(1, 0, 0.5, 0)
    distanceLabel.Position = UDim2.new(0, 0, 0.5, 0)
    distanceLabel.BackgroundTransparency = 1
    distanceLabel.TextColor3 = Color3.new(1, 1, 1)
    distanceLabel.TextSize = 12
    distanceLabel.Font = Enum.Font.Gotham
    distanceLabel.TextStrokeTransparency = 0
    distanceLabel.Parent = billboard
    
    local roleLabel = Instance.new("TextLabel")
    roleLabel.Size = UDim2.new(1, 0, 0.5, 0)
    roleLabel.Position = UDim2.new(0, 0, 1, 0)
    roleLabel.BackgroundTransparency = 1
    roleLabel.TextColor3 = Color3.new(1, 1, 1)
    roleLabel.TextSize = 11
    roleLabel.Font = Enum.Font.Gotham
    roleLabel.TextStrokeTransparency = 0
    roleLabel.Parent = billboard
    
    billboard.Parent = player.Character.Head
    highlight.Parent = player.Character
    
    ESPObjects[player] = {
        Highlight = highlight,
        Tracer = tracer,
        Beam = beam,
        Billboard = billboard,
        NameLabel = nameLabel,
        DistanceLabel = distanceLabel,
        RoleLabel = roleLabel
    }
    
    -- –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∏–≥—Ä–æ–∫–µ
    UpdatePlayerInfo(player)
end

local function UpdatePlayerInfo(player)
    if not ESPObjects[player] then return end
    
    local espData = ESPObjects[player]
    local isMurderer = false
    local isSheriff = false
    local roleText = "üë§ –ù–µ–≤–∏–Ω–Ω—ã–π"
    local color = Color3.new(0, 1, 0) -- –ó–µ–ª–µ–Ω—ã–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    
    -- –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–æ–ª—å
    for _, tool in ipairs(player.Backpack:GetChildren()) do
        if tool:IsA("Tool") then
            if tool.Name:lower():find("knife") then
                isMurderer = true
                roleText = "üî™ –£–ë–ò–ô–¶–ê"
                color = Color3.new(1, 0, 0)
            elseif tool.Name:lower():find("gun") then
                isSheriff = true
                roleText = "üî´ –®–ï–†–ò–§" 
                color = Color3.new(0, 0, 1)
            end
        end
    end
    
    -- –û–±–Ω–æ–≤–ª—è–µ–º —Ü–≤–µ—Ç–∞
    espData.Highlight.FillColor = color
    espData.Beam.Color = ColorSequence.new(color)
    espData.Tracer.BrickColor = BrickColor.new(color)
    
    -- –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç
    espData.RoleLabel.Text = roleText
    espData.RoleLabel.TextColor3 = color
    
    -- –û–±–Ω–æ–≤–ª—è–µ–º –¥–∏—Å—Ç–∞–Ω—Ü–∏—é
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        local distance = (LocalPlayer.Character.HumanoidRootPart.Position - player.Character.HumanoidRootPart.Position).Magnitude
        espData.DistanceLabel.Text = "üìè " .. math.floor(distance) .. " studs"
    end
end

local function RemoveESP(player)
    if ESPObjects[player] then
        for _, obj in pairs(ESPObjects[player]) do
            if obj and obj.Parent then
                obj:Destroy()
            end
        end
        ESPObjects[player] = nil
    end
end

local function UpdateESP()
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer then
            if ESPEnabled and player.Character and player.Character:FindFirstChild("Humanoid") and player.Character.Humanoid.Health > 0 then
                if not ESPObjects[player] then
                    CreateESP(player)
                else
                    UpdatePlayerInfo(player)
                    -- –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é —Ç—Ä–µ–π—Å–µ—Ä–∞
                    if ESPObjects[player].Tracer and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                        ESPObjects[player].Tracer.Position = LocalPlayer.Character.HumanoidRootPart.Position + Vector3.new(0, -3, 0)
                    end
                end
            else
                RemoveESP(player)
            end
        end
    end
end

--=== –°–ò–°–¢–ï–ú–ê –ü–û–õ–ï–¢–ê ===--
local function Fly()
    if FlyEnabled and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        local root = LocalPlayer.Character.HumanoidRootPart
        local camera = workspace.CurrentCamera
        
        local flyVector = Vector3.new(0, 0, 0)
        
        if game:GetService("UserInputService"):IsKeyDown(Enum.KeyCode.E) then
            flyVector = flyVector + Vector3.new(0, 1, 0)
        end
        if game:GetService("UserInputService"):IsKeyDown(Enum.KeyCode.Q) then
            flyVector = flyVector + Vector3.new(0, -1, 0)
        end
        if game:GetService("UserInputService"):IsKeyDown(Enum.KeyCode.W) then
            flyVector = flyVector + camera.CFrame.LookVector
        end
        if game:GetService("UserInputService"):IsKeyDown(Enum.KeyCode.S) then
            flyVector = flyVector - camera.CFrame.LookVector
        end
        if game:GetService("UserInputService"):IsKeyDown(Enum.KeyCode.A) then
            flyVector = flyVector - camera.CFrame.RightVector
        end
        if game:GetService("UserInputService"):IsKeyDown(Enum.KeyCode.D) then
            flyVector = flyVector + camera.CFrame.RightVector
        end
        
        root.Velocity = flyVector.Unit * FlySpeed
        root.AssemblyLinearVelocity = flyVector.Unit * FlySpeed
    end
end

--=== –ê–í–¢–û–§–ê–†–ú –ú–û–ù–ï–¢ ===--
local function AutoFarm()
    if AutoFarmEnabled then
        pcall(function()
            -- –ü–æ–∏—Å–∫ –º–æ–Ω–µ—Ç –Ω–∞ –∫–∞—Ä—Ç–µ
            for _, coin in pairs(workspace:GetChildren()) do
                if coin.Name == "Coin" or coin.Name == "Money" then
                    if coin:IsA("Part") and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                        local distance = (LocalPlayer.Character.HumanoidRootPart.Position - coin.Position).Magnitude
                        if distance < 20 then
                            -- –¢–µ–ª–µ–ø–æ—Ä—Ç–∏—Ä—É–µ–º—Å—è –∫ –º–æ–Ω–µ—Ç–µ
                            LocalPlayer.Character.HumanoidRootPart.CFrame = coin.CFrame
                            wait(0.2)
                        end
                    end
                end
            end
        end)
    end
end

--=== –§–£–ù–ö–¶–ò–Ø GRAB GUN ===--
local function GrabGun()
    pcall(function()
        local gunDrop = workspace:FindFirstChild("GunDrop")
        if gunDrop and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
            LocalPlayer.Character.HumanoidRootPart.CFrame = gunDrop.CFrame
            Rayfield:Notify({
                Title = "üî´ –ü—É—à–∫–∞ –ø–æ–¥–æ–±—Ä–∞–Ω–∞!",
                Content = "–¢–µ–ª–µ–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –∫ –ø—É—à–∫–µ",
                Duration = 3,
            })
        else
            Rayfield:Notify({
                Title = "‚ùå –ü—É—à–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞",
                Content = "–ü—É—à–∫–∞ –Ω–µ —Å–±—Ä–æ—à–µ–Ω–∞ –Ω–∞ –∫–∞—Ä—Ç–µ",
                Duration = 3,
            })
        end
    end)
end

--=== –¢–ê–ô–ú–ï–† –†–ê–£–ù–î–ê ===--
local RoundTime = 0
local function UpdateRoundTimer()
    while true do
        wait(1)
        RoundTime = RoundTime + 1
    end
end

coroutine.wrap(UpdateRoundTimer)()

--=== –ì–õ–ê–í–ù–ê–Ø –í–ö–õ–ê–î–ö–ê ===--
local MainTab = Window:CreateTab("–ì–ª–∞–≤–Ω–∞—è", 4483362458)

-- –°–µ–∫—Ü–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
local InfoSection = MainTab:CreateSection("üìä –ò–ù–§–û–†–ú–ê–¶–ò–Ø –û –†–ê–£–ù–î–ï")

local TimerLabel = MainTab:CreateLabel("–í—Ä–µ–º—è —Ä–∞—É–Ω–¥–∞: 0 —Å–µ–∫")
local MurdererLabel = MainTab:CreateLabel("–£–±–∏–π—Ü–∞: –ù–µ –Ω–∞–π–¥–µ–Ω")
local SheriffLabel = MainTab:CreateLabel("–®–µ—Ä–∏—Ñ: –ù–µ –Ω–∞–π–¥–µ–Ω")

-- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
coroutine.wrap(function()
    while wait(1) do
        TimerLabel:Set("–í—Ä–µ–º—è —Ä–∞—É–Ω–¥–∞: " .. RoundTime .. " —Å–µ–∫")
        
        local murderer, sheriff = "–ù–µ –Ω–∞–π–¥–µ–Ω", "–ù–µ –Ω–∞–π–¥–µ–Ω"
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer then
                for _, tool in ipairs(player.Backpack:GetChildren()) do
                    if tool:IsA("Tool") then
                        if tool.Name:lower():find("knife") then
                            murderer = player.Name
                        elseif tool.Name:lower():find("gun") then
                            sheriff = player.Name
                        end
                    end
                end
            end
        end
        
        MurdererLabel:Set("–£–±–∏–π—Ü–∞: " .. murderer)
        SheriffLabel:Set("–®–µ—Ä–∏—Ñ: " .. sheriff)
    end
end)()

-- –°–µ–∫—Ü–∏—è ESP
local VisualsSection = MainTab:CreateSection("üëÅÔ∏è –£–õ–£–ß–®–ï–ù–ù–´–ô ESP")

local ESPToggle = MainTab:CreateToggle({
    Name = "ESP —Å —Ç—Ä–µ–π—Å–µ—Ä–∞–º–∏ –∏ –¥–∏—Å—Ç–∞–Ω—Ü–∏–µ–π",
    CurrentValue = false,
    Flag = "ESPToggle",
    Callback = function(Value)
        ESPEnabled = Value
        if Value then
            Rayfield:Notify({
                Title = "ESP –ê–ö–¢–ò–í–ò–†–û–í–ê–ù",
                Content = "–¢—Ä–µ–π—Å–µ—Ä—ã, –Ω–∏–∫–∏ –∏ –¥–∏—Å—Ç–∞–Ω—Ü–∏—è –≤–∫–ª—é—á–µ–Ω—ã",
                Duration = 3,
            })
        else
            for _, player in pairs(Players:GetPlayers()) do
                RemoveESP(player)
            end
        end
    end,
})

-- –°–µ–∫—Ü–∏—è –±–æ–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
local CombatSection = MainTab:CreateSection("‚öîÔ∏è –ë–û–ï–í–´–ï –§–£–ù–ö–¶–ò–ò")

MainTab:CreateButton({
    Name = "üî´ GRAB GUN (–í–∑—è—Ç—å –ø—É—à–∫—É)",
    Callback = GrabGun
})

MainTab:CreateButton({
    Name = "üéØ SHOOT MURDERER (–í—ã—Å—Ç—Ä–µ–ª –≤ —É–±–∏–π—Ü—É)",
    Callback = function()
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer then
                for _, tool in ipairs(player.Backpack:GetChildren()) do
                    if tool:IsA("Tool") and tool.Name:lower():find("knife") then
                        if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                            LocalPlayer.Character.HumanoidRootPart.CFrame = player.Character.HumanoidRootPart.CFrame
                            Rayfield:Notify({
                                Title = "üî´ –í—ã—Å—Ç—Ä–µ–ª –≤ —É–±–∏–π—Ü—É!",
                                Content = "–¶–µ–ª—å: " .. player.Name,
                                Duration = 3,
                            })
                            return
                        end
                    end
                end
            end
        end
        Rayfield:Notify({
            Title = "‚ùå –£–±–∏–π—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω",
            Duration = 3,
        })
    end
})

local KillSheriffToggle = MainTab:CreateToggle({
    Name = "üíÄ KILL SHERIFF (–ê–≤—Ç–æ-—É–±–∏–π—Å—Ç–≤–æ —à–µ—Ä–∏—Ñ–∞)",
    CurrentValue = false,
    Callback = function(Value)
        KillSheriffEnabled = Value
        if Value then
            Rayfield:Notify({
                Title = "–û–•–û–¢–ê –ù–ê –®–ï–†–ò–§–ê",
                Content = "–ê–≤—Ç–æ-—É–±–∏–π—Å—Ç–≤–æ —à–µ—Ä–∏—Ñ–∞ –≤–∫–ª—é—á–µ–Ω–æ",
                Duration = 3,
            })
        end
    end
})

-- –°–µ–∫—Ü–∏—è –ø–æ–ª–µ—Ç–∞
local MovementSection = MainTab:CreateSection("üöÄ –°–ò–°–¢–ï–ú–ê –ü–û–õ–ï–¢–ê")

local FlyToggle = MainTab:CreateToggle({
    Name = "üïäÔ∏è TOGGLE FLY (–í–∫–ª/–í—ã–∫–ª –ø–æ–ª–µ—Ç)",
    CurrentValue = false,
    Callback = function(Value)
        FlyEnabled = Value
        if Value then
            Rayfield:Notify({
                Title = "–ü–û–õ–ï–¢ –ê–ö–¢–ò–í–ò–†–û–í–ê–ù",
                Content = "WASD - –¥–≤–∏–∂–µ–Ω–∏–µ, E/Q - –≤—ã—Å–æ—Ç–∞",
                Duration = 3,
            })
        else
            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                LocalPlayer.Character.HumanoidRootPart.Velocity = Vector3.new(0, 0, 0)
            end
        end
    end
})

local FlySpeedSlider = MainTab:CreateSlider({
    Name = "–°–∫–æ—Ä–æ—Å—Ç—å –ø–æ–ª–µ—Ç–∞",
    Range = {0, 100},
    Increment = 5,
    Suffix = "speed",
    CurrentValue = 50,
    Callback = function(Value)
        FlySpeed = Value
    end
})

--=== –ê–í–¢–û–§–ê–†–ú –í–ö–õ–ê–î–ö–ê ===--
local AutoTab = Window:CreateTab("–ê–≤—Ç–æ—Ñ–∞—Ä–º", 7733912645)

local FarmSection = AutoTab:CreateSection("üí∞ –ê–í–¢–û–§–ê–†–ú –ë–ï–ó –õ–ê–ì–û–í")

local AutoFarmToggle = AutoTab:CreateToggle({
    Name = "üí∞ –ê–í–¢–û–§–ê–†–ú –ú–û–ù–ï–¢ (–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)",
    CurrentValue = false,
    Callback = function(Value)
        AutoFarmEnabled = Value
        if Value then
            Rayfield:Notify({
                Title = "–ê–í–¢–û–§–ê–†–ú –ó–ê–ü–£–©–ï–ù",
                Content = "–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–±–æ—Ä –º–æ–Ω–µ—Ç...",
                Duration = 3,
            })
        else
            Rayfield:Notify({
                Title = "–ê–í–¢–û–§–ê–†–ú –û–°–¢–ê–ù–û–í–õ–ï–ù",
                Duration = 2,
            })
        end
    end
})

-- –ê–Ω—Ç–∏-–ê–§–ö
AutoTab:CreateToggle({
    Name = "‚è∞ –ê–ù–¢–ò-–ê–§–ö –°–ò–°–¢–ï–ú–ê",
    CurrentValue = true,
    Callback = function(Value)
        if Value then
            local VirtualUser = game:GetService("VirtualUser")
            game:GetService("Players").LocalPlayer.Idled:connect(function()
                VirtualUser:CaptureController()
                VirtualUser:ClickButton2(Vector2.new())
            end)
        end
    end
})

--=== –û–°–ù–û–í–ù–û–ô –¶–ò–ö–õ ===--
RunService.Heartbeat:Connect(function()
    -- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ ESP
    if ESPEnabled then
        UpdateESP()
    end
    
    -- –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–µ—Ç–∞
    if FlyEnabled then
        Fly()
    end
    
    -- –ê–≤—Ç–æ—Ñ–∞—Ä–º
    if AutoFarmEnabled then
        AutoFarm()
    end
    
    -- –ê–≤—Ç–æ-—É–±–∏–π—Å—Ç–≤–æ —à–µ—Ä–∏—Ñ–∞
    if KillSheriffEnabled then
        pcall(function()
            for _, player in pairs(Players:GetPlayers()) do
                if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("Humanoid") then
                    for _, tool in ipairs(player.Backpack:GetChildren()) do
                        if tool:IsA("Tool") and tool.Name:lower():find("gun") then
                            if player.Character.Humanoid.Health > 0 then
                                LocalPlayer.Character.HumanoidRootPart.CFrame = player.Character.HumanoidRootPart.CFrame
                                wait(0.5)
                            end
                        end
                    end
                end
            end
        end)
    end
end)

-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–∞–≥—Ä—É–∑–∫–µ
Rayfield:Notify({
    Title = "üéÆ MM2 CHEAT v5.0 –ó–ê–ì–†–£–ñ–ï–ù!",
    Content = "–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç!",
    Duration = 6,
})

print("‚úÖ MM2 Ultimate Cheat v5.0 –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!")
print("‚úÖ –£–ª—É—á—à–µ–Ω–Ω—ã–π ESP —Å —Ç—Ä–µ–π—Å–µ—Ä–∞–º–∏")
print("‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—á–∏–µ")
