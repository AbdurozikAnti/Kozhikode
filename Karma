-- Murder Mystery 2 Ultimate Cheat
-- –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π ESP –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")
local Camera = workspace.CurrentCamera

local Window = Rayfield:CreateWindow({
    Name = "üé≠ MM2 ULTIMATE CHEAT",
    LoadingTitle = "–ó–∞–≥—Ä—É–∑–∫–∞...",
    LoadingSubtitle = "–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π ESP –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏",
    ConfigurationSaving = { Enabled = true },
    KeySystem = false
})

-- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è ESP
local ESP = {
    Enabled = true,  -- –í—Å–µ–≥–¥–∞ –≤–∫–ª—é—á–µ–Ω
    Tracers = true,
    Chams = true,
    Objects = {}
}

--=== –ü–û–°–¢–û–Ø–ù–ù–´–ô ESP –î–õ–Ø –í–°–ï–• –ò–ì–†–û–ö–û–í ===--
local function CreateESP(player)
    if ESP.Objects[player] then return end
    if player == LocalPlayer then return end
    
    -- –ñ–¥–µ–º –ø–æ—è–≤–ª–µ–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
    if not player.Character then
        player.CharacterAdded:Wait()
    end
    
    -- –ß–∞–º—Å (–ø–æ–¥—Å–≤–µ—Ç–∫–∞)
    local highlight = Instance.new("Highlight")
    highlight.Name = player.Name .. "_Chams"
    highlight.Adornee = player.Character
    highlight.FillColor = Color3.new(1, 0, 0)
    highlight.OutlineColor = Color3.new(1, 1, 1)
    highlight.FillTransparency = 0.3
    highlight.OutlineTransparency = 0
    highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
    
    -- –¢—Ä–µ–π—Å–µ—Ä (–ª–∏–Ω–∏—è –æ—Ç —Ü–µ–Ω—Ç—Ä–∞ —ç–∫—Ä–∞–Ω–∞)
    local tracer = Instance.new("Frame")
    tracer.Name = player.Name .. "_Tracer"
    tracer.BackgroundColor3 = Color3.new(1, 0, 0)
    tracer.BorderSizePixel = 0
    tracer.Size = UDim2.new(0, 2, 0, 2)
    tracer.AnchorPoint = Vector2.new(0.5, 0.5)
    tracer.ZIndex = 10
    
    -- –¢–µ–∫—Å—Ç —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
    local infoLabel = Instance.new("TextLabel")
    infoLabel.Name = player.Name .. "_Info"
    infoLabel.BackgroundTransparency = 1
    infoLabel.Text = player.Name
    infoLabel.TextColor3 = Color3.new(1, 1, 1)
    infoLabel.TextSize = 14
    infoLabel.Font = Enum.Font.GothamBold
    infoLabel.TextStrokeColor3 = Color3.new(0, 0, 0)
    infoLabel.TextStrokeTransparency = 0
    infoLabel.Size = UDim2.new(0, 200, 0, 20)
    infoLabel.ZIndex = 10
    
    -- –°–æ–∑–¥–∞–µ–º GUI –¥–ª—è —Ç—Ä–µ–π—Å–µ—Ä–æ–≤ –∏ —Ç–µ–∫—Å—Ç–∞
    local espGui = Instance.new("ScreenGui")
    espGui.Name = "ESP_GUI"
    espGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    espGui.ResetOnSpawn = false
    
    tracer.Parent = espGui
    infoLabel.Parent = espGui
    espGui.Parent = game:GetService("CoreGui")
    
    highlight.Parent = player.Character
    
    ESP.Objects[player] = {
        Highlight = highlight,
        Tracer = tracer,
        InfoLabel = infoLabel,
        GUI = espGui
    }
    
    UpdatePlayerInfo(player)
end

local function UpdatePlayerInfo(player)
    if not ESP.Objects[player] then return end
    if not player.Character then return end
    
    local espData = ESP.Objects[player]
    local role = "–ù–µ–≤–∏–Ω–Ω—ã–π"
    local color = Color3.new(0, 1, 0) -- –ó–µ–ª–µ–Ω—ã–π
    
    -- –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–æ–ª—å (–ø—Ä–æ–≤–µ—Ä—è–µ–º –æ–±–∞ –º–µ—Å—Ç–∞)
    local function checkForTools(container)
        if container then
            for _, tool in ipairs(container:GetChildren()) do
                if tool:IsA("Tool") then
                    local toolName = string.lower(tool.Name)
                    if toolName:find("knife") or toolName:find("–Ω–æ–∂") then
                        return "üî™ –£–ë–ò–ô–¶–ê", Color3.new(1, 0, 0)
                    elseif toolName:find("gun") or toolName:find("revolver") or toolName:find("–ø—É—à–∫") then
                        return "üî´ –®–ï–†–ò–§", Color3.new(0, 0.5, 1)
                    end
                end
            end
        end
        return "–ù–µ–≤–∏–Ω–Ω—ã–π", Color3.new(0, 1, 0)
    end
    
    role, color = checkForTools(player.Backpack)
    if role == "–ù–µ–≤–∏–Ω–Ω—ã–π" then
        role, color = checkForTools(player.Character)
    end
    
    -- –û–±–Ω–æ–≤–ª—è–µ–º —Ü–≤–µ—Ç–∞
    espData.Highlight.FillColor = color
    espData.Tracer.BackgroundColor3 = color
    espData.InfoLabel.TextColor3 = color
    espData.InfoLabel.Text = player.Name .. " - " .. role
    
    -- –û–±–Ω–æ–≤–ª—è–µ–º –≤–∏–¥–∏–º–æ—Å—Ç—å
    espData.Highlight.Enabled = ESP.Chams
    espData.Tracer.Visible = ESP.Tracers
    espData.InfoLabel.Visible = ESP.Enabled
end

local function UpdateTracers()
    for player, espData in pairs(ESP.Objects) do
        if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            local rootPart = player.Character.HumanoidRootPart
            local screenPoint, onScreen = Camera:WorldToViewportPoint(rootPart.Position)
            
            if onScreen then
                -- –ü–æ–∑–∏—Ü–∏—è —Ç—Ä–µ–π—Å–µ—Ä–∞ - –æ—Ç —Ü–µ–Ω—Ç—Ä–∞ –Ω–∏–∂–Ω–µ–π —á–∞—Å—Ç–∏ —ç–∫—Ä–∞–Ω–∞ –∫ –∏–≥—Ä–æ–∫—É
                local startPos = Vector2.new(Camera.ViewportSize.X/2, Camera.ViewportSize.Y) -- –¶–µ–Ω—Ç—Ä —Å–Ω–∏–∑—É
                local endPos = Vector2.new(screenPoint.X, screenPoint.Y)
                
                -- –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã
                espData.Tracer.Visible = ESP.Tracers
                espData.InfoLabel.Visible = ESP.Enabled
                
                -- –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ–º —Ç—Ä–µ–π—Å–µ—Ä
                espData.Tracer.Position = UDim2.new(0, endPos.X, 0, endPos.Y)
                
                -- –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç –Ω–∞–¥ –∏–≥—Ä–æ–∫–æ–º
                espData.InfoLabel.Position = UDim2.new(0, endPos.X - 100, 0, endPos.Y - 30)
                
            else
                -- –ï—Å–ª–∏ –∏–≥—Ä–æ–∫ –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ —ç–∫—Ä–∞–Ω–∞
                espData.Tracer.Visible = false
                espData.InfoLabel.Visible = false
            end
        end
    end
end

local function RemoveESP(player)
    if ESP.Objects[player] then
        if ESP.Objects[player].Highlight then
            ESP.Objects[player].Highlight:Destroy()
        end
        if ESP.Objects[player].GUI then
            ESP.Objects[player].GUI:Destroy()
        end
        ESP.Objects[player] = nil
    end
end

--=== –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô –¢–ï–õ–ï–ü–û–†–¢ –ö –ü–£–®–ö–ï ===--
local function TeleportToGun()
    -- –ò—â–µ–º –ø—É—à–∫—É –ø–æ–¥ —Ä–∞–∑–Ω—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏
    local gunNames = {
        "GunDrop", 
        "RevolverDrop", 
        "Gun", 
        "Revolver",
        "WeaponDrop"
    }
    
    for _, gunName in ipairs(gunNames) do
        local gun = workspace:FindFirstChild(gunName)
        if gun then
            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                LocalPlayer.Character.HumanoidRootPart.CFrame = gun.CFrame
                Rayfield:Notify({
                    Title = "üî´ –ü—É—à–∫–∞ –Ω–∞–π–¥–µ–Ω–∞!",
                    Content = "–¢–µ–ª–µ–ø–æ—Ä—Ç–∏—Ä—É–µ–º—Å—è...",
                    Duration = 3
                })
                return true
            end
        end
    end
    
    -- –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ –ø–æ –∏–º–µ–Ω–∏, –∏—â–µ–º –ª—é–±—É—é —á–∞—Å—Ç—å —Å –æ—Ä—É–∂–∏–µ–º –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏
    for _, obj in pairs(workspace:GetDescendants()) do
        if obj:IsA("Part") or obj:IsA("Model") then
            local name = string.lower(obj.Name)
            if (name:find("gun") or name:find("revolver") or name:find("weapon")) and not name:find("handle") then
                if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                    LocalPlayer.Character.HumanoidRootPart.CFrame = obj.CFrame
                    Rayfield:Notify({
                        Title = "üî´ –û—Ä—É–∂–∏–µ –Ω–∞–π–¥–µ–Ω–æ!",
                        Content = "–¢–µ–ª–µ–ø–æ—Ä—Ç–∏—Ä—É–µ–º—Å—è...",
                        Duration = 3
                    })
                    return true
                end
            end
        end
    end
    
    Rayfield:Notify({
        Title = "‚ùå –ü—É—à–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞",
        Content = "–í–æ–∑–º–æ–∂–Ω–æ, –µ–µ –µ—â–µ –Ω–µ –±—Ä–æ—Å–∏–ª–∏",
        Duration = 3
    })
    return false
end

--=== KILL ALL –ë–ï–ó –ü–ï–†–ï–ú–ï–©–ï–ù–ò–Ø ===--
local function KillAllPlayers()
    local originalPosition = LocalPlayer.Character.HumanoidRootPart.CFrame
    
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("Humanoid") then
            local targetHumanoid = player.Character.Humanoid
            
            -- –ë—ã—Å—Ç—Ä–∞—è —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏—è –∫ —Ü–µ–ª–∏ –∏ –æ–±—Ä–∞—Ç–Ω–æ
            LocalPlayer.Character.HumanoidRootPart.CFrame = player.Character.HumanoidRootPart.CFrame * CFrame.new(0, 0, -2)
            wait(0.1)
            
            -- –ê—Ç–∞–∫–∞
            if LocalPlayer.Character:FindFirstChildOfClass("Tool") then
                LocalPlayer.Character:FindFirstChildOfClass("Tool"):Activate()
            end
            
            -- –í–æ–∑–≤—Ä–∞—Ç –Ω–∞ –º–µ—Å—Ç–æ
            LocalPlayer.Character.HumanoidRootPart.CFrame = originalPosition
            wait(0.1)
        end
    end
end

--=== –ì–õ–ê–í–ù–ê–Ø –í–ö–õ–ê–î–ö–ê ===--
local MainTab = Window:CreateTab("–ì–ª–∞–≤–Ω–∞—è", 4483362458)

-- –°–µ–∫—Ü–∏—è ESP
local ESPSection = MainTab:CreateSection("üé® –í–∏–∑—É–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–≤—Å–µ–≥–¥–∞ –≤–∫–ª—é—á–µ–Ω—ã)")

MainTab:CreateToggle({
    Name = "üìè –¢—Ä–µ–π—Å–µ—Ä—ã –∫ –∏–≥—Ä–æ–∫–∞–º",
    CurrentValue = true,
    Callback = function(Value)
        ESP.Tracers = Value
        Rayfield:Notify({Title = "–¢—Ä–µ–π—Å–µ—Ä—ã " .. (Value and "–í–ö–õ" or "–í–´–ö–õ"), Duration = 2})
    end,
})

MainTab:CreateToggle({
    Name = "üåà Chams (–ø–æ–¥—Å–≤–µ—Ç–∫–∞)",
    CurrentValue = true,
    Callback = function(Value)
        ESP.Chams = Value
        Rayfield:Notify({Title = "Chams " .. (Value and "–í–ö–õ" or "–í–´–ö–õ"), Duration = 2})
    end,
})

MainTab:CreateToggle({
    Name = "üëÅÔ∏è –¢–µ–∫—Å—Ç —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π",
    CurrentValue = true,
    Callback = function(Value)
        ESP.Enabled = Value
        Rayfield:Notify({Title = "–¢–µ–∫—Å—Ç ESP " .. (Value and "–í–ö–õ" or "–í–´–ö–õ"), Duration = 2})
    end,
})

-- –°–µ–∫—Ü–∏—è –±–æ–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
local CombatSection = MainTab:CreateSection("‚öîÔ∏è –ë–æ–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏")

MainTab:CreateButton({
    Name = "üíÄ KILL ALL (—Å—Ç–æ—è –Ω–∞ –º–µ—Å—Ç–µ)",
    Callback = function()
        Rayfield:Notify({
            Title = "üî™ –ó–∞–ø—É—Å–∫ Kill All",
            Content = "–¢–≤–æ–π –ø–µ—Ä—Å–æ–Ω–∞–∂ —Å—Ç–æ–∏—Ç –Ω–∞ –º–µ—Å—Ç–µ",
            Duration = 3
        })
        
        KillAllPlayers()
        
        Rayfield:Notify({
            Title = "‚úÖ Kill All –∑–∞–≤–µ—Ä—à–µ–Ω",
            Content = "–í—Å–µ –∏–≥—Ä–æ–∫–∏ —É–±–∏—Ç—ã",
            Duration = 3
        })
    end
})

-- –°–µ–∫—Ü–∏—è —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏–∏
local TeleportSection = MainTab:CreateSection("üöÄ –¢–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏—è")

MainTab:CreateButton({
    Name = "üî´ –¢–ï–õ–ï–ü–û–†–¢ –ö –ü–£–®–ö–ï (–ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô)",
    Callback = TeleportToGun
})

MainTab:CreateButton({
    Name = "üéØ –¢–µ–ª–µ–ø–æ—Ä—Ç –∫ —É–±–∏–π—Ü–µ",
    Callback = function()
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer then
                for _, container in ipairs({player.Backpack, player.Character}) do
                    if container then
                        for _, tool in ipairs(container:GetChildren()) do
                            if tool:IsA("Tool") and string.lower(tool.Name):find("knife") then
                                LocalPlayer.Character.HumanoidRootPart.CFrame = player.Character.HumanoidRootPart.CFrame
                                Rayfield:Notify({Title = "–¢–µ–ª–µ–ø–æ—Ä—Ç –∫ —É–±–∏–π—Ü–µ", Content = player.Name, Duration = 3})
                                return
                            end
                        end
                    end
                end
            end
        end
        Rayfield:Notify({Title = "–£–±–∏–π—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω", Duration = 3})
    end
})

MainTab:CreateButton({
    Name = "üîÑ –û–±–Ω–æ–≤–∏—Ç—å ESP",
    Callback = function()
        -- –ü–µ—Ä–µ—Å–æ–∑–¥–∞–µ–º ESP –¥–ª—è –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤
        for player, _ in pairs(ESP.Objects) do
            RemoveESP(player)
        end
        
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer then
                CreateESP(player)
            end
        end
        
        Rayfield:Notify({Title = "ESP –æ–±–Ω–æ–≤–ª–µ–Ω", Duration = 2})
    end
})

--=== –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ê–Ø –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ESP ===--
-- –°–æ–∑–¥–∞–µ–º ESP –¥–ª—è —É–∂–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤
for _, player in pairs(Players:GetPlayers()) do
    if player ~= LocalPlayer then
        CreateESP(player)
    end
end

-- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –Ω–æ–≤—ã—Ö –∏–≥—Ä–æ–∫–æ–≤
Players.PlayerAdded:Connect(function(player)
    CreateESP(player)
end)

Players.PlayerRemoving:Connect(function(player)
    RemoveESP(player)
end)

-- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Å–º–µ–Ω—É –∫–∞—Ä—Ç—ã/–ª–æ–±–±–∏
game:GetService("Workspace").CurrentCamera:GetPropertyChangedSignal("ViewportSize"):Connect(function()
    -- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ —ç–∫—Ä–∞–Ω–∞ (—Å–º–µ–Ω–∞ –∫–∞—Ä—Ç—ã) –æ–±–Ω–æ–≤–ª—è–µ–º ESP
    wait(2) -- –ñ–¥–µ–º –∑–∞–≥—Ä—É–∑–∫–∏
    for player, _ in pairs(ESP.Objects) do
        RemoveESP(player)
    end
    wait(1)
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer then
            CreateESP(player)
        end
    end
end)

--=== –û–°–ù–û–í–ù–û–ô –¶–ò–ö–õ –û–ë–ù–û–í–õ–ï–ù–ò–Ø ===--
RunService.Heartbeat:Connect(function()
    -- –û–±–Ω–æ–≤–ª—è–µ–º —Ç—Ä–µ–π—Å–µ—Ä—ã –∏ –ø–æ–∑–∏—Ü–∏–∏
    if ESP.Tracers or ESP.Enabled then
        UpdateTracers()
    end
    
    -- –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∏–≥—Ä–æ–∫–∞—Ö
    for player, espData in pairs(ESP.Objects) do
        if player.Character then
            UpdatePlayerInfo(player)
        end
    end
end)

-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–∞–≥—Ä—É–∑–∫–µ
Rayfield:Notify({
    Title = "üéÆ MM2 CHEAT –ó–ê–ì–†–£–ñ–ï–ù!",
    Content = "–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π ESP –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω\n–¢—Ä–µ–π—Å–µ—Ä—ã –∏–∑ —Ü–µ–Ω—Ç—Ä–∞ —ç–∫—Ä–∞–Ω–∞",
    Duration = 5,
})

print("‚úÖ –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π ESP –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!")
print("‚úÖ –¢—Ä–µ–π—Å–µ—Ä—ã –∏–∑ —Ü–µ–Ω—Ç—Ä–∞ —ç–∫—Ä–∞–Ω–∞")
print("‚úÖ –¢–µ–ª–µ–ø–æ—Ä—Ç –∫ –ø—É—à–∫–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω!")
print("‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –≤ –ª–æ–±–±–∏ –∏ –Ω–∞ –∫–∞—Ä—Ç–∞—Ö!")
