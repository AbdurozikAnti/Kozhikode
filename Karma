-- Murder Mystery 2 Ultimate Cheat GUI
-- –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è v7.0

local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")

local Window = Rayfield:CreateWindow({
    Name = "üé≠ MM2 ULTIMATE CHEAT v7.0",
    LoadingTitle = "–ó–∞–≥—Ä—É–∑–∫–∞...",
    LoadingSubtitle = "7 –≤–∫–ª–∞–¥–æ–∫ —Å –ø–æ–ª–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º",
    ConfigurationSaving = { Enabled = true, FolderName = "MM2Cheat", FileName = "Config" },
    Discord = { Enabled = false },
    KeySystem = false
})

-- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π
local ESPEnabled = false
local ChamsEnabled = false
local FlyEnabled = false
local FlySpeed = 50
local AutoFarmEnabled = false
local AutoGrabGunEnabled = false
local KillAllEnabled = false
local AutoKillAllEnabled = false
local ESPObjects = {}
local ChamsObjects = {}

--=== –°–ò–°–¢–ï–ú–ê –£–ü–†–ê–í–õ–ï–ù–ò–Ø –î–õ–Ø –¢–ï–õ–ï–§–û–ù–ê ===--
local TouchControls = {
    Forward = false,
    Backward = false,
    Left = false,
    Right = false,
    Up = false,
    Down = false
}

local function SetupTouchControls()
    -- –°–æ–∑–¥–∞–µ–º –∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞
    local touchGui = Instance.new("ScreenGui")
    touchGui.Name = "TouchControls"
    touchGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
    
    -- –ö–Ω–æ–ø–∫–∞ –≤–ø–µ—Ä–µ–¥ (W)
    local forwardBtn = Instance.new("TextButton")
    forwardBtn.Size = UDim2.new(0, 80, 0, 80)
    forwardBtn.Position = UDim2.new(0.1, 0, 0.7, 0)
    forwardBtn.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    forwardBtn.Text = "W"
    forwardBtn.TextSize = 20
    forwardBtn.Visible = false
    forwardBtn.Parent = touchGui
    
    -- –û—Å—Ç–∞–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è...
end

--=== –£–õ–£–ß–®–ï–ù–ù–´–ô ESP –ò CHAMS ===--
local function CreateESP(player)
    if ESPObjects[player] then return end
    if not player.Character then return end
    
    -- Highlight –¥–ª—è Chams
    local highlight = Instance.new("Highlight")
    highlight.Name = "ESP_" .. player.Name
    highlight.Adornee = player.Character
    highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
    highlight.FillTransparency = 0.7
    highlight.OutlineTransparency = 0.3
    
    -- –¢—Ä–µ–π—Å–µ—Ä
    local tracer = Instance.new("Part")
    tracer.Name = "Tracer_" .. player.Name
    tracer.Anchored = true
    tracer.CanCollide = false
    tracer.Material = Enum.Material.Neon
    tracer.Size = Vector3.new(0.1, 0.1, 0.1)
    tracer.Parent = workspace
    
    local beam = Instance.new("Beam")
    beam.Attachment0 = Instance.new("Attachment")
    beam.Attachment0.Parent = tracer
    beam.Attachment1 = Instance.new("Attachment")
    beam.Attachment1.Parent = player.Character.HumanoidRootPart
    beam.Width0 = 0.1
    beam.Width1 = 0.1
    beam.Parent = tracer
    
    -- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –¥–æ—Å–∫–∞
    local billboard = Instance.new("BillboardGui")
    billboard.Name = "ESPInfo"
    billboard.Adornee = player.Character:WaitForChild("Head")
    billboard.Size = UDim2.new(0, 200, 0, 80)
    billboard.StudsOffset = Vector3.new(0, 3.5, 0)
    billboard.AlwaysOnTop = true
    
    local nameLabel = Instance.new("TextLabel")
    nameLabel.Size = UDim2.new(1, 0, 0.5, 0)
    nameLabel.Position = UDim2.new(0, 0, 0, 0)
    nameLabel.BackgroundTransparency = 1
    nameLabel.Text = player.Name
    nameLabel.TextColor3 = Color3.new(1, 1, 1)
    nameLabel.TextSize = 14
    nameLabel.Font = Enum.Font.GothamBold
    nameLabel.Parent = billboard
    
    local infoLabel = Instance.new("TextLabel")
    infoLabel.Size = UDim2.new(1, 0, 0.5, 0)
    infoLabel.Position = UDim2.new(0, 0, 0.5, 0)
    infoLabel.BackgroundTransparency = 1
    infoLabel.TextColor3 = Color3.new(1, 1, 1)
    infoLabel.TextSize = 12
    infoLabel.Font = Enum.Font.Gotham
    infoLabel.Parent = billboard
    
    billboard.Parent = player.Character.Head
    highlight.Parent = player.Character
    
    ESPObjects[player] = {
        Highlight = highlight,
        Tracer = tracer,
        Beam = beam,
        Billboard = billboard,
        NameLabel = nameLabel,
        InfoLabel = infoLabel
    }
    
    UpdatePlayerESP(player)
end

local function UpdatePlayerESP(player)
    if not ESPObjects[player] then return end
    
    local espData = ESPObjects[player]
    local role = "Innocent"
    local color = Color3.new(0, 1, 0) -- –ó–µ–ª–µ–Ω—ã–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    
    -- –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–æ–ª—å
    for _, container in ipairs({player.Backpack, player.Character}) do
        if container then
            for _, tool in ipairs(container:GetChildren()) do
                if tool:IsA("Tool") then
                    local toolName = string.lower(tool.Name)
                    if string.find(toolName, "knife") then
                        role = "Murder"
                        color = Color3.new(1, 0, 0) -- –ö—Ä–∞—Å–Ω—ã–π
                    elseif string.find(toolName, "gun") then
                        role = "Sheriff"
                        color = Color3.new(0, 0, 1) -- –°–∏–Ω–∏–π
                    end
                end
            end
        end
    end
    
    -- –û–±–Ω–æ–≤–ª—è–µ–º —Ü–≤–µ—Ç–∞
    espData.Highlight.FillColor = color
    espData.Beam.Color = ColorSequence.new(color)
    espData.Tracer.BrickColor = BrickColor.new(color)
    
    -- –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
    local distance = "N/A"
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        distance = math.floor((LocalPlayer.Character.HumanoidRootPart.Position - player.Character.HumanoidRootPart.Position).Magnitude) .. " studs"
    end
    
    espData.InfoLabel.Text = role .. " | " .. distance
    espData.InfoLabel.TextColor3 = color
end

--=== –í–ö–õ–ê–î–ö–ê 1: CHAMS & INFO ===--
local ChamsTab = Window:CreateTab("Chams & Info", 4483362458)

local ChamsSection = ChamsTab:CreateSection("Visual Features")

local ChamsToggle = ChamsTab:CreateToggle({
    Name = "üé® Enable Chams",
    CurrentValue = false,
    Callback = function(Value)
        ChamsEnabled = Value
        if Value then
            Rayfield:Notify({Title = "Chams Enabled", Content = "Visual highlights activated", Duration = 3})
        end
    end,
})

local ESPToggle = ChamsTab:CreateToggle({
    Name = "üëÅÔ∏è Enable ESP & Tracers",
    CurrentValue = false,
    Callback = function(Value)
        ESPEnabled = Value
        if Value then
            Rayfield:Notify({Title = "ESP Enabled", Content = "Tracers and info activated", Duration = 3})
        else
            for player, espData in pairs(ESPObjects) do
                if espData.Tracer then espData.Tracer:Destroy() end
                if espData.Beam then espData.Beam:Destroy() end
                if espData.Billboard then espData.Billboard:Destroy() end
            end
        end
    end,
})

local GunChamsToggle = ChamsTab:CreateToggle({
    Name = "üî´ Chams for Dropped Gun",
    CurrentValue = false,
    Callback = function(Value)
        if Value then
            coroutine.wrap(function()
                while GunChamsToggle.CurrentValue do
                    wait(1)
                    local gunDrop = workspace:FindFirstChild("GunDrop")
                    if gunDrop then
                        local highlight = gunDrop:FindFirstChild("GunHighlight")
                        if not highlight then
                            highlight = Instance.new("Highlight")
                            highlight.Name = "GunHighlight"
                            highlight.FillColor = Color3.new(1, 1, 0) -- –ñ–µ–ª—Ç—ã–π
                            highlight.OutlineColor = Color3.new(1, 1, 1)
                            highlight.Parent = gunDrop
                        end
                    end
                end
            end)()
        end
    end,
})

--=== –í–ö–õ–ê–î–ö–ê 2: GUN ===--
local GunTab = Window:CreateTab("Gun", 7733912645)

local GunSection = GunTab:CreateSection("Weapon Features")

local SilentAimToggle = GunTab:CreateToggle({
    Name = "üéØ Silent Aim",
    CurrentValue = false,
    Callback = function(Value)
        Rayfield:Notify({Title = "Silent Aim", Content = Value and "Enabled" or "Disabled", Duration = 3})
    end,
})

GunTab:CreateButton({
    Name = "üî´ Shoot Murderer",
    Callback = function()
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer then
                for _, container in ipairs({player.Backpack, player.Character}) do
                    if container then
                        for _, tool in ipairs(container:GetChildren()) do
                            if tool:IsA("Tool") and string.lower(tool.Name):find("knife") then
                                if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                                    LocalPlayer.Character.HumanoidRootPart.CFrame = player.Character.HumanoidRootPart.CFrame
                                    Rayfield:Notify({Title = "Targeting Murderer", Content = player.Name, Duration = 3})
                                    return
                                end
                            end
                        end
                    end
                end
            end
        end
        Rayfield:Notify({Title = "Murderer Not Found", Duration = 3})
    end
})

GunTab:CreateButton({
    Name = "üîÑ Grab Gun",
    Callback = function()
        local gunDrop = workspace:FindFirstChild("GunDrop")
        if gunDrop and LocalPlayer.Character then
            LocalPlayer.Character.HumanoidRootPart.CFrame = gunDrop.CFrame
            Rayfield:Notify({Title = "Grabbing Gun", Duration = 3})
        else
            Rayfield:Notify({Title = "Gun Not Found", Duration = 3})
        end
    end
})

local AutoGrabGunToggle = GunTab:CreateToggle({
    Name = "‚ö° Auto Grab Gun",
    CurrentValue = false,
    Callback = function(Value)
        AutoGrabGunEnabled = Value
        if Value then
            Rayfield:Notify({Title = "Auto Grab Gun", Content = "Enabled", Duration = 3})
        end
    end,
})

--=== –í–ö–õ–ê–î–ö–ê 3: KNIFE ===--
local KnifeTab = Window:CreateTab("Knife", 7733920848)

local KnifeSection = KnifeTab:CreateSection("Knife Features")

local KillAllToggle = KnifeTab:CreateToggle({
    Name = "üíÄ Kill All",
    CurrentValue = false,
    Callback = function(Value)
        KillAllEnabled = Value
        Rayfield:Notify({Title = "Kill All", Content = Value and "Enabled" or "Disabled", Duration = 3})
    end,
})

local KillSheriffToggle = KnifeTab:CreateToggle({
    Name = "üî´ Kill Sheriff",
    CurrentValue = false,
    Callback = function(Value)
        Rayfield:Notify({Title = "Kill Sheriff", Content = Value and "Enabled" or "Disabled", Duration = 3})
    end,
})

local AutoKillAllToggle = KnifeTab:CreateToggle({
    Name = "‚ö° Auto Kill All",
    CurrentValue = false,
    Callback = function(Value)
        AutoKillAllEnabled = Value
        Rayfield:Notify({Title = "Auto Kill All", Content = Value and "Enabled" or "Disabled", Duration = 3})
    end,
})

--=== –í–ö–õ–ê–î–ö–ê 4: AUTO FARM ===--
local FarmTab = Window:CreateTab("Auto Farm", 7733965351)

local FarmSection = FarmTab:CreateSection("Farming Settings")

local AutoFarmToggle = FarmTab:CreateToggle({
    Name = "üí∞ Toggle Auto Farm",
    CurrentValue = false,
    Callback = function(Value)
        AutoFarmEnabled = Value
        Rayfield:Notify({Title = "Auto Farm", Content = Value and "Enabled" or "Disabled", Duration = 3})
    end,
})

local FarmSpeedSlider = FarmTab:CreateSlider({
    Name = "Farm Speed",
    Range = {1, 10},
    Increment = 1,
    Suffix = "x",
    CurrentValue = 5,
    Callback = function(Value)
        -- –õ–æ–≥–∏–∫–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏ —Ñ–∞—Ä–º–∞
    end,
})

local FlingMurderToggle = FarmTab:CreateToggle({
    Name = "üåÄ Fling Murder",
    CurrentValue = false,
    Callback = function(Value)
        Rayfield:Notify({Title = "Fling Murder", Content = Value and "Enabled" or "Disabled", Duration = 3})
    end,
})

--=== –í–ö–õ–ê–î–ö–ê 5: MISS ===--
local MissTab = Window:CreateTab("Miss", 7733912645)

local MissSection = MissTab:CreateSection("Player Management")

local PlayerDropdown = MissTab:CreateDropdown({
    Name = "Select Player",
    Options = {"Player1", "Player2"},
    CurrentOption = "Player1",
    Callback = function(Option)
        -- –õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ –∏–≥—Ä–æ–∫–∞
    end,
})

MissTab:CreateButton({
    Name = "üåÄ Fling Selected Player",
    Callback = function()
        Rayfield:Notify({Title = "Flinging Player", Duration = 3})
    end
})

MissTab:CreateButton({
    Name = "üî™ Fling Murder",
    Callback = function()
        Rayfield:Notify({Title = "Flinging Murder", Duration = 3})
    end
})

MissTab:CreateButton({
    Name = "üî´ Fling Sheriff/Hero",
    Callback = function()
        Rayfield:Notify({Title = "Flinging Sheriff", Duration = 3})
    end
})

--=== –í–ö–õ–ê–î–ö–ê 6: SETTINGS ===--
local SettingsTab = Window:CreateTab("Settings", 7733965351)

local ThemeSection = SettingsTab:CreateSection("UI Settings")

local ThemeDropdown = SettingsTab:CreateDropdown({
    Name = "üé® Select Theme",
    Options = {"Dark", "Amber", "Red", "Sky", "Rose"},
    CurrentOption = "Dark",
    Callback = function(Option)
        local themes = {
            Dark = Color3.fromRGB(25, 25, 25),
            Amber = Color3.fromRGB(255, 193, 7),
            Red = Color3.fromRGB(244, 67, 54),
            Sky = Color3.fromRGB(33, 150, 243),
            Rose = Color3.fromRGB(233, 30, 99)
        }
        Window:ChangeColor(themes[Option])
    end,
})

local TransparencySlider = SettingsTab:CreateSlider({
    Name = "Window Transparency",
    Range = {0, 100},
    Increment = 5,
    Suffix = "%",
    CurrentValue = 0,
    Callback = function(Value)
        -- –õ–æ–≥–∏–∫–∞ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏ –æ–∫–Ω–∞
    end,
})

--=== –í–ö–õ–ê–î–ö–ê 7: CREDITS ===--
local CreditsTab = Window:CreateTab("Credits", 7733920848)

local CreditsSection = CreditsTab:CreateSection("Credits & Information")

CreditsTab:CreateLabel("MM2 Ultimate Cheat v7.0")
CreditsTab:CreateLabel("–°–∫–æ—Ä–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ!")
CreditsTab:CreateLabel("–•–æ—Ç–∏—Ç–µ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å —á—Ç–æ –¥–æ–±–∞–≤–∏—Ç—å?")
CreditsTab:CreateLabel("–ü–∏—à–∏—Ç–µ —Å—é–¥–∞ –≤ Telegram: @PauseGpam")

CreditsTab:CreateButton({
    Name = "üîÑ Check for Updates",
    Callback = function()
        Rayfield:Notify({
            Title = "Update Check",
            Content = "Checking for updates...",
            Duration = 5,
        })
    end
})

--=== –û–°–ù–û–í–ù–û–ô –¶–ò–ö–õ –û–ë–ù–û–í–õ–ï–ù–ò–Ø ===--
RunService.Heartbeat:Connect(function()
    -- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ ESP
    if ESPEnabled or ChamsEnabled then
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer and player.Character then
                if not ESPObjects[player] then
                    CreateESP(player)
                else
                    UpdatePlayerESP(player)
                end
                
                -- –û–±–Ω–æ–≤–ª—è–µ–º –≤–∏–¥–∏–º–æ—Å—Ç—å —ç–ª–µ–º–µ–Ω—Ç–æ–≤
                local espData = ESPObjects[player]
                if espData then
                    espData.Highlight.Enabled = ChamsEnabled
                    espData.Tracer.Transparency = ESPEnabled and 1 or 0
                    espData.Beam.Enabled = ESPEnabled
                    espData.Billboard.Enabled = ESPEnabled
                end
            end
        end
    end
    
    -- –ê–≤—Ç–æ-–ø–æ–¥–±–æ—Ä –ø—É—à–∫–∏
    if AutoGrabGunEnabled then
        local gunDrop = workspace:FindFirstChild("GunDrop")
        if gunDrop and LocalPlayer.Character then
            LocalPlayer.Character.HumanoidRootPart.CFrame = gunDrop.CFrame
        end
    end
    
    -- –ê–≤—Ç–æ-—Ñ–∞—Ä–º
    if AutoFarmEnabled then
        -- –õ–æ–≥–∏–∫–∞ –∞–≤—Ç–æ—Ñ–∞—Ä–º–∞ –º–æ–Ω–µ—Ç
    end
    
    -- –ê–≤—Ç–æ-–∫–∏–ª–ª
    if AutoKillAllEnabled or KillAllEnabled then
        -- –õ–æ–≥–∏–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–±–∏–π—Å—Ç–≤–∞
    end
end)

-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–∞–≥—Ä—É–∑–∫–µ
Rayfield:Notify({
    Title = "üéÆ MM2 ULTIMATE CHEAT v7.0",
    Content = "7 –≤–∫–ª–∞–¥–æ–∫ –∑–∞–≥—Ä—É–∂–µ–Ω—ã! –ü—Ä–∏—è—Ç–Ω–æ–π –∏–≥—Ä—ã!",
    Duration = 6,
})

print("‚úÖ MM2 Ultimate Cheat v7.0 –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!")
print("‚úÖ 7 –≤–∫–ª–∞–¥–æ–∫ —Å –ø–æ–ª–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º")
print("‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ")
