-- Murder Mystery 2 Ultimate Cheat
-- –ö—Ä–∞—Å–∏–≤—ã–π ESP –∏ Kill All –±–µ–∑ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è

local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")
local Camera = workspace.CurrentCamera

local Window = Rayfield:CreateWindow({
    Name = "üé≠ MM2 ULTIMATE CHEAT",
    LoadingTitle = "–ó–∞–≥—Ä—É–∑–∫–∞...",
    LoadingSubtitle = "–ö—Ä–∞—Å–∏–≤—ã–π ESP –∏ Kill All",
    ConfigurationSaving = { Enabled = true },
    KeySystem = false
})

-- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è ESP
local ESP = {
    Enabled = false,
    Tracers = false,
    Chams = false,
    Objects = {}
}

--=== –ö–†–ê–°–ò–í–´–ô ESP –° –¢–†–ï–ô–°–ï–†–ê–ú–ò –ò –ß–ê–ú–°–ê–ú–ò ===--
local function CreateESP(player)
    if ESP.Objects[player] then return end
    
    if not player.Character then return end
    if not player.Character:FindFirstChild("Humanoid") then return end
    if not player.Character:FindFirstChild("HumanoidRootPart") then return end
    
    -- –ß–∞–º—Å (–ø–æ–¥—Å–≤–µ—Ç–∫–∞)
    local highlight = Instance.new("Highlight")
    highlight.Name = player.Name .. "_Chams"
    highlight.Adornee = player.Character
    highlight.FillColor = Color3.new(1, 0, 0)
    highlight.OutlineColor = Color3.new(1, 1, 1)
    highlight.FillTransparency = 0.3
    highlight.OutlineTransparency = 0
    highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
    highlight.Parent = player.Character
    
    -- –¢—Ä–µ–π—Å–µ—Ä (–ª–∏–Ω–∏—è –∫ –∏–≥—Ä–æ–∫—É)
    local tracer = Instance.new("Part")
    tracer.Name = player.Name .. "_Tracer"
    tracer.Anchored = true
    tracer.CanCollide = false
    tracer.Material = Enum.Material.Neon
    tracer.Size = Vector3.new(0.1, 0.1, 1000)
    tracer.Transparency = 0.7
    tracer.Parent = workspace
    
    -- –¢–µ–∫—Å—Ç –Ω–∞–¥ –≥–æ–ª–æ–≤–æ–π
    local billboard = Instance.new("BillboardGui")
    billboard.Name = player.Name .. "_Info"
    billboard.Adornee = player.Character:WaitForChild("Head")
    billboard.Size = UDim2.new(0, 200, 0, 80)
    billboard.StudsOffset = Vector3.new(0, 3.5, 0)
    billboard.AlwaysOnTop = true
    billboard.MaxDistance = 100
    
    local nameLabel = Instance.new("TextLabel")
    nameLabel.Size = UDim2.new(1, 0, 0.5, 0)
    nameLabel.BackgroundTransparency = 1
    nameLabel.Text = player.Name
    nameLabel.TextColor3 = Color3.new(1, 1, 1)
    nameLabel.TextSize = 14
    nameLabel.Font = Enum.Font.GothamBold
    nameLabel.TextStrokeColor3 = Color3.new(0, 0, 0)
    nameLabel.TextStrokeTransparency = 0
    nameLabel.Parent = billboard
    
    local infoLabel = Instance.new("TextLabel")
    infoLabel.Size = UDim2.new(1, 0, 0.5, 0)
    infoLabel.Position = UDim2.new(0, 0, 0.5, 0)
    infoLabel.BackgroundTransparency = 1
    infoLabel.TextColor3 = Color3.new(1, 1, 1)
    infoLabel.TextSize = 12
    infoLabel.Font = Enum.Font.Gotham
    infoLabel.TextStrokeColor3 = Color3.new(0, 0, 0)
    infoLabel.TextStrokeTransparency = 0
    infoLabel.Parent = billboard
    
    billboard.Parent = player.Character.Head
    
    ESP.Objects[player] = {
        Highlight = highlight,
        Tracer = tracer,
        Billboard = billboard,
        NameLabel = nameLabel,
        InfoLabel = infoLabel
    }
    
    UpdatePlayerInfo(player)
end

local function UpdatePlayerInfo(player)
    if not ESP.Objects[player] then return end
    
    local espData = ESP.Objects[player]
    local role = "–ù–µ–≤–∏–Ω–Ω—ã–π"
    local color = Color3.new(0, 1, 0) -- –ó–µ–ª–µ–Ω—ã–π
    
    -- –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–æ–ª—å
    for _, container in ipairs({player.Backpack, player.Character}) do
        if container then
            for _, tool in ipairs(container:GetChildren()) do
                if tool:IsA("Tool") then
                    local toolName = string.lower(tool.Name)
                    if toolName:find("knife") or toolName:find("–Ω–æ–∂") then
                        role = "üî™ –£–ë–ò–ô–¶–ê"
                        color = Color3.new(1, 0, 0) -- –ö—Ä–∞—Å–Ω—ã–π
                    elseif toolName:find("gun") or toolName:find("revolver") then
                        role = "üî´ –®–ï–†–ò–§"
                        color = Color3.new(0, 0.5, 1) -- –°–∏–Ω–∏–π
                    end
                end
            end
        end
    end
    
    -- –û–±–Ω–æ–≤–ª—è–µ–º —Ü–≤–µ—Ç–∞
    espData.Highlight.FillColor = color
    espData.Tracer.Color = color
    espData.InfoLabel.Text = role
    espData.InfoLabel.TextColor3 = color
    espData.NameLabel.TextColor3 = color
    
    -- –û–±–Ω–æ–≤–ª—è–µ–º –≤–∏–¥–∏–º–æ—Å—Ç—å
    espData.Highlight.Enabled = ESP.Chams
    espData.Tracer.Transparency = ESP.Tracers and 0.3 or 1
    espData.Billboard.Enabled = ESP.Enabled
end

local function UpdateTracers()
    for player, espData in pairs(ESP.Objects) do
        if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            local rootPart = player.Character.HumanoidRootPart
            local screenPoint, onScreen = Camera:WorldToViewportPoint(rootPart.Position)
            
            if onScreen then
                -- –ü–æ–∑–∏—Ü–∏—è —Ç—Ä–µ–π—Å–µ—Ä–∞ - –æ—Ç —Ü–µ–Ω—Ç—Ä–∞ —ç–∫—Ä–∞–Ω–∞ –∫ –∏–≥—Ä–æ–∫—É
                local startPos = Vector2.new(Camera.ViewportSize.X/2, Camera.ViewportSize.Y)
                local endPos = Vector2.new(screenPoint.X, screenPoint.Y)
                
                -- –†–∞—Å—á–µ—Ç –¥–ª–∏–Ω—ã –∏ —É–≥–ª–∞ —Ç—Ä–µ–π—Å–µ—Ä–∞
                local distance = (startPos - endPos).Magnitude
                local angle = math.atan2(endPos.Y - startPos.Y, endPos.X - startPos.X)
                
                -- –û–±–Ω–æ–≤–ª—è–µ–º —Ç—Ä–µ–π—Å–µ—Ä
                espData.Tracer.Size = Vector3.new(0.1, 0.1, distance)
                espData.Tracer.CFrame = CFrame.new(
                    Camera:ViewportPointToRay(startPos.X, startPos.Y, 0).Origin,
                    Camera:ViewportPointToRay(endPos.X, endPos.Y, 0).Origin
                ) * CFrame.new(0, 0, -distance/2)
            else
                espData.Tracer.Transparency = 1
            end
        end
    end
end

local function RemoveESP(player)
    if ESP.Objects[player] then
        for _, obj in pairs(ESP.Objects[player]) do
            if obj and obj.Parent then
                obj:Destroy()
            end
        end
        ESP.Objects[player] = nil
    end
end

--=== KILL ALL –ë–ï–ó –ü–ï–†–ï–ú–ï–©–ï–ù–ò–Ø ===--
local function KillAllPlayers()
    local originalPosition = LocalPlayer.Character.HumanoidRootPart.CFrame
    
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("Humanoid") then
            -- –°–æ—Ö—Ä–∞–Ω—è–µ–º –∑–¥–æ—Ä–æ–≤—å–µ —Ü–µ–ª–∏
            local targetHumanoid = player.Character.Humanoid
            local originalHealth = targetHumanoid.Health
            
            -- –¢–µ–ª–µ–ø–æ—Ä—Ç–∏—Ä—É–µ–º—Å—è –∫ —Ü–µ–ª–∏
            LocalPlayer.Character.HumanoidRootPart.CFrame = player.Character.HumanoidRootPart.CFrame * CFrame.new(0, 0, -2)
            
            -- –ë—ã—Å—Ç—Ä–∞—è –∞—Ç–∞–∫–∞
            wait(0.1)
            if LocalPlayer.Character:FindFirstChildOfClass("Tool") then
                local tool = LocalPlayer.Character:FindFirstChildOfClass("Tool")
                tool:Activate()
            end
            
            -- –ü—Ä–æ–≤–µ—Ä—è–µ–º, —É–º–µ—Ä –ª–∏ –∏–≥—Ä–æ–∫
            wait(0.2)
            if targetHumanoid.Health < originalHealth then
                Rayfield:Notify({
                    Title = "‚úÖ –£–±–∏—Ç: " .. player.Name,
                    Duration = 1
                })
            end
            
            -- –í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –Ω–∞ –∏—Å—Ö–æ–¥–Ω—É—é –ø–æ–∑–∏—Ü–∏—é
            LocalPlayer.Character.HumanoidRootPart.CFrame = originalPosition
            wait(0.1)
        end
    end
    
    -- –§–∏–Ω–∞–ª—å–Ω–æ–µ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ
    LocalPlayer.Character.HumanoidRootPart.CFrame = originalPosition
end

--=== –ì–õ–ê–í–ù–ê–Ø –í–ö–õ–ê–î–ö–ê ===--
local MainTab = Window:CreateTab("–ì–ª–∞–≤–Ω–∞—è", 4483362458)

-- –°–µ–∫—Ü–∏—è ESP
local ESPSection = MainTab:CreateSection("üé® –í–∏–∑—É–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏")

MainTab:CreateToggle({
    Name = "üëÅÔ∏è –í–∫–ª—é—á–∏—Ç—å ESP",
    CurrentValue = false,
    Callback = function(Value)
        ESP.Enabled = Value
        if not Value then
            for player, _ in pairs(ESP.Objects) do
                RemoveESP(player)
            end
        end
        Rayfield:Notify({Title = "ESP " .. (Value and "–í–ö–õ" or "–í–´–ö–õ"), Duration = 2})
    end,
})

MainTab:CreateToggle({
    Name = "üìè –¢—Ä–µ–π—Å–µ—Ä—ã –∫ –∏–≥—Ä–æ–∫–∞–º",
    CurrentValue = false,
    Callback = function(Value)
        ESP.Tracers = Value
        Rayfield:Notify({Title = "–¢—Ä–µ–π—Å–µ—Ä—ã " .. (Value and "–í–ö–õ" or "–í–´–ö–õ"), Duration = 2})
    end,
})

MainTab:CreateToggle({
    Name = "üåà Chams (–ø–æ–¥—Å–≤–µ—Ç–∫–∞)",
    CurrentValue = false,
    Callback = function(Value)
        ESP.Chams = Value
        Rayfield:Notify({Title = "Chams " .. (Value and "–í–ö–õ" or "–í–´–ö–õ"), Duration = 2})
    end,
})

-- –°–µ–∫—Ü–∏—è –±–æ–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
local CombatSection = MainTab:CreateSection("‚öîÔ∏è –ë–æ–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏")

MainTab:CreateButton({
    Name = "üíÄ KILL ALL (—Å—Ç–æ—è –Ω–∞ –º–µ—Å—Ç–µ)",
    Callback = function()
        Rayfield:Notify({
            Title = "üî™ –ó–∞–ø—É—Å–∫ Kill All",
            Content = "–¢–≤–æ–π –ø–µ—Ä—Å–æ–Ω–∞–∂ —Å—Ç–æ–∏—Ç –Ω–∞ –º–µ—Å—Ç–µ",
            Duration = 3
        })
        
        KillAllPlayers()
        
        Rayfield:Notify({
            Title = "‚úÖ Kill All –∑–∞–≤–µ—Ä—à–µ–Ω",
            Content = "–í—Å–µ –∏–≥—Ä–æ–∫–∏ —É–±–∏—Ç—ã",
            Duration = 3
        })
    end
})

MainTab:CreateButton({
    Name = "üî´ –£–±–∏—Ç—å —à–µ—Ä–∏—Ñ–∞",
    Callback = function()
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer then
                for _, tool in ipairs(player.Backpack:GetChildren()) do
                    if tool:IsA("Tool") and string.lower(tool.Name):find("gun") then
                        LocalPlayer.Character.HumanoidRootPart.CFrame = player.Character.HumanoidRootPart.CFrame
                        Rayfield:Notify({Title = "–®–µ—Ä–∏—Ñ —É–±–∏—Ç!", Content = player.Name, Duration = 3})
                        return
                    end
                end
            end
        end
        Rayfield:Notify({Title = "–®–µ—Ä–∏—Ñ –Ω–µ –Ω–∞–π–¥–µ–Ω", Duration = 3})
    end
})

-- –°–µ–∫—Ü–∏—è —Ç–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏–∏
local TeleportSection = MainTab:CreateSection("üöÄ –¢–µ–ª–µ–ø–æ—Ä—Ç–∞—Ü–∏—è")

MainTab:CreateButton({
    Name = "üî´ –í–∑—è—Ç—å –ø—É—à–∫—É",
    Callback = function()
        local gun = workspace:FindFirstChild("GunDrop")
        if gun and LocalPlayer.Character then
            LocalPlayer.Character.HumanoidRootPart.CFrame = gun.CFrame
            Rayfield:Notify({Title = "–ü—É—à–∫–∞ –≤–∑—è—Ç–∞!", Duration = 3})
        else
            Rayfield:Notify({Title = "–ü—É—à–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞", Duration = 3})
        end
    end
})

MainTab:CreateButton({
    Name = "üéØ –¢–µ–ª–µ–ø–æ—Ä—Ç –∫ —É–±–∏–π—Ü–µ",
    Callback = function()
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer then
                for _, tool in ipairs(player.Backpack:GetChildren()) do
                    if tool:IsA("Tool") and string.lower(tool.Name):find("knife") then
                        LocalPlayer.Character.HumanoidRootPart.CFrame = player.Character.HumanoidRootPart.CFrame
                        Rayfield:Notify({Title = "–¢–µ–ª–µ–ø–æ—Ä—Ç –∫ —É–±–∏–π—Ü–µ", Content = player.Name, Duration = 3})
                        return
                    end
                end
            end
        end
        Rayfield:Notify({Title = "–£–±–∏–π—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω", Duration = 3})
    end
})

--=== –ù–ê–°–¢–†–û–ô–ö–ò ===--
local SettingsTab = Window:CreateTab("–ù–∞—Å—Ç—Ä–æ–π–∫–∏", 7733965351)

SettingsTab:CreateDropdown({
    Name = "üé® –¶–≤–µ—Ç–æ–≤–∞—è —Ç–µ–º–∞",
    Options = {"–¢–µ–º–Ω–∞—è", "–ö—Ä–∞—Å–Ω–∞—è", "–°–∏–Ω—è—è", "–ó–µ–ª–µ–Ω–∞—è", "–§–∏–æ–ª–µ—Ç–æ–≤–∞—è"},
    CurrentOption = "–¢–µ–º–Ω–∞—è",
    Callback = function(Option)
        local themes = {
            ["–¢–µ–º–Ω–∞—è"] = Color3.fromRGB(25, 25, 25),
            ["–ö—Ä–∞—Å–Ω–∞—è"] = Color3.fromRGB(255, 0, 0),
            ["–°–∏–Ω—è—è"] = Color3.fromRGB(0, 100, 255),
            ["–ó–µ–ª–µ–Ω–∞—è"] = Color3.fromRGB(0, 255, 0),
            ["–§–∏–æ–ª–µ—Ç–æ–≤–∞—è"] = Color3.fromRGB(128, 0, 128)
        }
        Window:ChangeColor(themes[Option])
        Rayfield:Notify({Title = "–¢–µ–º–∞ –∏–∑–º–µ–Ω–µ–Ω–∞", Content = Option, Duration = 2})
    end,
})

--=== –û–°–ù–û–í–ù–û–ô –¶–ò–ö–õ –û–ë–ù–û–í–õ–ï–ù–ò–Ø ===--
RunService.Heartbeat:Connect(function()
    -- –û–±–Ω–æ–≤–ª—è–µ–º ESP –¥–ª—è –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤
    if ESP.Enabled or ESP.Tracers or ESP.Chams then
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer then
                if not ESP.Objects[player] then
                    CreateESP(player)
                else
                    UpdatePlayerInfo(player)
                end
            end
        end
        
        -- –û–±–Ω–æ–≤–ª—è–µ–º —Ç—Ä–µ–π—Å–µ—Ä—ã
        if ESP.Tracers then
            UpdateTracers()
        end
    end
end)

-- –ê–≤—Ç–æ-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∏–≥—Ä–æ–∫–æ–≤
Players.PlayerAdded:Connect(function(player)
    player.CharacterAdded:Connect(function()
        if ESP.Enabled then
            wait(1)
            CreateESP(player)
        end
    end)
end)

Players.PlayerRemoving:Connect(function(player)
    RemoveESP(player)
end)

-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–∞–≥—Ä—É–∑–∫–µ
Rayfield:Notify({
    Title = "üéÆ MM2 CHEAT –ó–ê–ì–†–£–ñ–ï–ù!",
    Content = "–ö—Ä–∞—Å–∏–≤—ã–π ESP –∏ Kill All –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω—ã",
    Duration = 5,
})

print("‚úÖ –ö—Ä–∞—Å–∏–≤—ã–π ESP –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!")
print("‚úÖ Kill All —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è!")
print("‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!")
